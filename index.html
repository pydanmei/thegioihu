<!DOCTYPE html>
<html lang="vi">
<head>
  <meta charset="UTF-8" />
  <title>thegioihu ‚Äî Th·∫ø gi·ªõi h·ªß</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <style>
    :root {
      --pink-soft: #FFCED2;
      --pink-soft-2: #FFBBC0;
      --bg-main: #fff5f6;
      --bg-card: #ffffff;
      --text-main: #2f172a;
      --text-muted: #7a5a6a;
      --accent: #ff6f91;
      --accent-dark: #e4557a;
      --border-soft: #ffd9de;
      --danger: #d90032;
    }

    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }

    body {
      font-family: system-ui, -apple-system, BlinkMacSystemFont, "Segoe UI", sans-serif;
      background: radial-gradient(circle at top left, #ffe3ea, #fff5f6 40%, #ffd9e3 100%);
      color: var(--text-main);
      min-height: 100vh;
    }

    a {
      color: inherit;
      text-decoration: none;
    }

    /* ===== PASSWORD GATE ===== */
    .gate-backdrop {
      position: fixed;
      inset: 0;
      z-index: 1000;
      background: linear-gradient(135deg, #FFCED2, #FFBBC0);
      display: flex;
      align-items: center;
      justify-content: center;
      padding: 20px;
    }

    .gate-box {
      background: rgba(255, 255, 255, 0.95);
      border-radius: 20px;
      padding: 24px 22px;
      max-width: 360px;
      width: 100%;
      box-shadow: 0 20px 40px rgba(0,0,0,0.12);
      text-align: center;
      backdrop-filter: blur(8px);
      border: 1px solid #ffe2ea;
    }

    .gate-logo {
      font-weight: 800;
      font-size: 26px;
      letter-spacing: 1px;
      display: inline-flex;
      align-items: center;
      gap: 6px;
      margin-bottom: 6px;
    }

    .gate-logo span {
      color: var(--accent);
    }

    .gate-logo-mark {
      width: 32px;
      height: 32px;
      border-radius: 999px;
      border: 2px solid var(--accent);
      display: inline-flex;
      align-items: center;
      justify-content: center;
      font-size: 16px;
      color: var(--accent);
      position: relative;
      overflow: hidden;
    }

    .gate-logo-mark::after {
      content: "";
      position: absolute;
      inset: 60% -40%;
      background: linear-gradient(135deg, transparent, rgba(255,255,255,0.8), transparent);
      transform: rotate(-20deg);
    }

    .gate-subtitle {
      font-size: 13px;
      color: var(--text-muted);
      margin-bottom: 14px;
    }

    .age-badge {
      display: inline-flex;
      align-items: center;
      gap: 6px;
      font-size: 11px;
      padding: 3px 10px;
      border-radius: 999px;
      background: rgba(217, 0, 50, 0.05);
      color: var(--danger);
      border: 1px solid rgba(217, 0, 50, 0.2);
      margin-bottom: 16px;
    }

    .gate-form label {
      display: block;
      text-align: left;
      font-size: 13px;
      margin-bottom: 6px;
      color: var(--text-muted);
    }

    .gate-input {
      width: 100%;
      padding: 8px 11px;
      border-radius: 999px;
      border: 1px solid #ffd9e3;
      outline: none;
      font-size: 14px;
      background: #fffafa;
      margin-bottom: 10px;
    }

    .gate-input:focus {
      border-color: var(--accent);
      box-shadow: 0 0 0 1px rgba(255, 111, 145, 0.2);
    }

    .gate-btn {
      width: 100%;
      border-radius: 999px;
      border: none;
      padding: 9px 12px;
      font-size: 14px;
      font-weight: 600;
      background: var(--accent);
      color: #fff;
      cursor: pointer;
      margin-top: 4px;
    }

    .gate-btn:hover {
      background: var(--accent-dark);
    }

    .gate-error {
      font-size: 12px;
      color: var(--danger);
      min-height: 16px;
      margin-top: 6px;
    }

    .gate-note {
      margin-top: 14px;
      font-size: 11px;
      color: var(--text-muted);
      line-height: 1.4;
    }

    /* ===== APP LAYOUT ===== */
    .app-shell {
      display: flex;
      flex-direction: column;
      min-height: 100vh;
      max-width: 1200px;
      margin: 0 auto;
    }

    header {
      position: sticky;
      top: 0;
      z-index: 20;
      backdrop-filter: blur(20px);
      background: linear-gradient(to right, rgba(255, 245, 246, 0.92), rgba(255, 232, 237, 0.96));
      border-bottom: 1px solid #ffd9e3;
    }

    .header-inner {
      display: flex;
      align-items: center;
      justify-content: space-between;
      padding: 10px 18px;
      gap: 12px;
    }

    .logo {
      display: flex;
      align-items: center;
      gap: 8px;
    }

    .logo-mark {
      width: 32px;
      height: 32px;
      border-radius: 12px;
      background: radial-gradient(circle at 30% 30%, #ffffff, #FFCED2 55%, #FFBBC0 100%);
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 16px;
      color: var(--accent-dark);
      position: relative;
      box-shadow: 0 4px 10px rgba(255, 174, 195, 0.6);
    }

    .logo-mark::after {
      content: "‚ô°";
      position: absolute;
      font-size: 10px;
      bottom: 3px;
      right: 4px;
      opacity: 0.7;
    }

    .logo-text-main {
      font-weight: 800;
      font-size: 18px;
      letter-spacing: 0.04em;
      text-transform: lowercase;
    }

    .logo-text-main span {
      color: var(--accent);
    }

    .logo-text-sub {
      font-size: 10px;
      text-transform: uppercase;
      letter-spacing: 0.16em;
      color: var(--text-muted);
    }

    nav {
      display: flex;
      align-items: center;
      gap: 10px;
      font-size: 13px;
      flex-wrap: wrap;
    }

    .nav-link {
      padding: 5px 9px;
      border-radius: 999px;
      border: 1px solid transparent;
      cursor: pointer;
      white-space: nowrap;
      background: transparent;
    }

    .nav-link.active {
      border-color: #ffb4c3;
      background: rgba(255, 206, 210, 0.6);
    }

    .search-box {
      position: relative;
      max-width: 210px;
      flex: 1;
    }

    .search-box input {
      width: 100%;
      padding: 6px 10px 6px 24px;
      border-radius: 999px;
      border: 1px solid #ffd9e3;
      background: rgba(255,255,255,0.9);
      font-size: 13px;
      outline: none;
    }

    .search-box input::placeholder {
      color: #c08c9c;
    }

    .search-icon {
      position: absolute;
      left: 7px;
      top: 50%;
      transform: translateY(-50%);
      font-size: 12px;
      color: #c08c9c;
    }

    main {
      flex: 1;
      display: grid;
      grid-template-columns: minmax(0, 3fr) minmax(0, 1.4fr);
      gap: 16px;
      padding: 16px 18px 24px;
    }

    @media (max-width: 900px) {
      main {
        grid-template-columns: minmax(0, 1fr);
      }
    }

    @media (max-width: 640px) {
      .header-inner {
        flex-wrap: wrap;
        justify-content: center;
      }
      .search-box {
        max-width: 100%;
      }
    }

    /* ===== LEFT COLUMN ===== */
    .section {
      margin-bottom: 18px;
    }

    .section-header {
      display: flex;
      justify-content: space-between;
      align-items: baseline;
      margin-bottom: 8px;
    }

    .section-title {
      font-size: 16px;
      font-weight: 700;
      display: inline-flex;
      align-items: center;
      gap: 6px;
    }

    .section-title-pill {
      font-size: 10px;
      padding: 2px 7px;
      border-radius: 999px;
      background: rgba(255, 206, 210, 0.5);
      color: var(--accent-dark);
    }

    .section-subtitle {
      font-size: 12px;
      color: var(--text-muted);
    }

    .chips {
      display: flex;
      flex-wrap: wrap;
      gap: 6px;
      margin-top: 6px;
    }

    .chip {
      font-size: 11px;
      padding: 3px 8px;
      border-radius: 999px;
      border: 1px solid #ffd6df;
      background: rgba(255,255,255,0.8);
      cursor: pointer;
    }

    .chip.active {
      background: var(--accent);
      color: #fff;
      border-color: var(--accent-dark);
    }

    .card-list {
      display: grid;
      grid-template-columns: repeat(auto-fill, minmax(150px, 1fr));
      gap: 10px;
    }

    .comic-card {
      background: var(--bg-card);
      border-radius: 16px;
      overflow: hidden;
      border: 1px solid var(--border-soft);
      box-shadow: 0 4px 12px rgba(255, 169, 189, 0.18);
      cursor: pointer;
      display: flex;
      flex-direction: column;
      transition: transform 0.12s ease, box-shadow 0.12s ease, border-color 0.12s ease;
      position: relative;
    }

    .comic-card:hover {
      transform: translateY(-2px);
      box-shadow: 0 8px 18px rgba(255, 154, 184, 0.24);
      border-color: #ffb0c1;
    }

    .comic-cover-wrap {
      position: relative;
      aspect-ratio: 3 / 4;
      background: linear-gradient(135deg, #ffd9e3, #ffeef2);
      overflow: hidden;
    }

    .comic-cover {
      width: 100%;
      height: 100%;
      object-fit: cover;
      display: block;
    }

    .badge-18 {
      position: absolute;
      top: 6px;
      left: 6px;
      padding: 3px 6px;
      border-radius: 999px;
      background: rgba(217,0,50,0.95);
      color: #fff;
      font-size: 9px;
      letter-spacing: 0.06em;
      text-transform: uppercase;
    }

    .badge-featured {
      position: absolute;
      bottom: 6px;
      left: 6px;
      padding: 3px 7px;
      border-radius: 999px;
      background: rgba(0,0,0,0.45);
      color: #fff;
      font-size: 9px;
      display: inline-flex;
      align-items: center;
      gap: 4px;
    }

    .comic-body {
      padding: 8px 9px 9px;
      display: flex;
      flex-direction: column;
      gap: 4px;
    }

    .comic-title {
      font-size: 13px;
      font-weight: 700;
      line-height: 1.3;
    }

    .comic-meta {
      font-size: 11px;
      color: var(--text-muted);
    }

    .mini-tags {
      display: flex;
      flex-wrap: wrap;
      gap: 4px;
      margin-top: 3px;
    }

    .mini-tag {
      font-size: 9px;
      padding: 2px 5px;
      border-radius: 999px;
      background: #fff5f7;
      border: 1px solid #ffd9e3;
    }

    /* ===== HERO / GI·ªöI THI·ªÜU NHANH ===== */
    .hero-card {
      background: rgba(255,255,255,0.9);
      border-radius: 18px;
      padding: 10px 12px 12px;
      border: 1px solid #ffd9e3;
      box-shadow: 0 6px 16px rgba(255, 162, 192, 0.2);
      margin-bottom: 10px;
    }

    .hero-topline {
      font-size: 11px;
      text-transform: uppercase;
      letter-spacing: 0.2em;
      color: var(--text-muted);
      margin-bottom: 4px;
    }

    .hero-title {
      font-size: 18px;
      font-weight: 800;
      margin-bottom: 4px;
    }

    .hero-highlight {
      color: var(--accent-dark);
    }

    .hero-text {
      font-size: 12px;
      color: var(--text-muted);
      margin-bottom: 6px;
    }

    .hero-links {
      font-size: 11px;
      display: flex;
      flex-wrap: wrap;
      gap: 8px;
    }

    .hero-link-pill {
      padding: 3px 9px;
      border-radius: 999px;
      background: #fff5f7;
      border: 1px solid #ffd6df;
    }

    /* ===== STORY DETAIL ===== */
    .detail-panel {
      margin-top: 14px;
      background: rgba(255,255,255,0.95);
      border-radius: 18px;
      padding: 12px 12px 14px;
      border: 1px solid #ffd9e3;
      box-shadow: 0 6px 16px rgba(255, 162, 192, 0.2);
    }

    .detail-header {
      display: flex;
      gap: 10px;
      align-items: flex-start;
    }

    .detail-cover-wrap {
      width: 90px;
      aspect-ratio: 3 / 4;
      border-radius: 10px;
      overflow: hidden;
      background: linear-gradient(135deg, #ffd9e3, #ffeef2);
      position: relative;
    }

    .detail-cover {
      width: 100%;
      height: 100%;
      object-fit: cover;
    }

    .watermark-overlay {
      position: absolute;
      inset: 0;
      pointer-events: none;
    }

    .watermark-overlay::after {
      content: "thegioihu.com ‚Ä¢ kh√¥ng re-up";
      position: absolute;
      inset: 20%;
      transform: rotate(-28deg);
      font-size: 14px;
      letter-spacing: 0.18em;
      text-transform: uppercase;
      color: rgba(255,255,255,0.5);
      text-shadow: 0 1px 3px rgba(0,0,0,0.35);
      opacity: 0.7;
    }

    .detail-main {
      flex: 1;
      display: flex;
      flex-direction: column;
      gap: 4px;
    }

    .detail-title-line {
      display: flex;
      align-items: center;
      gap: 6px;
      flex-wrap: wrap;
    }

    .detail-title {
      font-size: 15px;
      font-weight: 800;
    }

    .detail-group-link {
      font-size: 11px;
      padding: 3px 7px;
      border-radius: 999px;
      background: #fff5f7;
      border: 1px solid #ffd9e3;
      cursor: pointer;
    }

    .detail-desc {
      font-size: 12px;
      color: var(--text-muted);
      margin-top: 4px;
    }

    .detail-meta-line {
      display: flex;
      flex-wrap: wrap;
      gap: 8px;
      margin-top: 6px;
      font-size: 11px;
      color: var(--text-muted);
    }

    .detail-actions {
      margin-top: 8px;
      display: flex;
      flex-wrap: wrap;
      gap: 6px;
    }

    .btn {
      border-radius: 999px;
      border: none;
      padding: 6px 10px;
      font-size: 12px;
      background: var(--accent);
      color: #fff;
      cursor: pointer;
      display: inline-flex;
      align-items: center;
      gap: 5px;
    }

    .btn-outline {
      background: transparent;
      border: 1px solid #ffb3c5;
      color: var(--accent-dark);
    }

    .btn-ghost {
      background: transparent;
      border: none;
      color: var(--text-muted);
      padding-inline: 0;
    }

    .detail-tags {
      margin-top: 8px;
    }

    .detail-tags-title {
      font-size: 11px;
      color: var(--text-muted);
      margin-bottom: 4px;
    }

    .detail-tags-list {
      display: flex;
      flex-wrap: wrap;
      gap: 5px;
    }

    .detail-tag {
      font-size: 10px;
      padding: 2px 7px;
      border-radius: 999px;
      background: #fff5f7;
      border: 1px solid #ffd6df;
    }

    .detail-related {
      margin-top: 10px;
      border-top: 1px dashed #ffd6df;
      padding-top: 8px;
    }

    .related-title {
      font-size: 12px;
      font-weight: 600;
      margin-bottom: 4px;
    }

    .related-list {
      display: flex;
      flex-wrap: wrap;
      gap: 6px;
    }

    .related-item {
      font-size: 11px;
      padding: 3px 7px;
      border-radius: 999px;
      background: #fff5f7;
      border: 1px solid #ffd6df;
      cursor: pointer;
    }

    /* ===== RIGHT COLUMN: TAGS & GROUP & PY ===== */
    .side-card {
      background: rgba(255,255,255,0.94);
      border-radius: 18px;
      padding: 10px 11px 12px;
      border: 1px solid #ffd9e3;
      box-shadow: 0 4px 12px rgba(255, 162, 192, 0.18);
      margin-bottom: 10px;
    }

    .side-card-title {
      font-size: 13px;
      font-weight: 700;
      margin-bottom: 4px;
      display: flex;
      align-items: center;
      gap: 6px;
    }

    .side-card-sub {
      font-size: 11px;
      color: var(--text-muted);
      margin-bottom: 6px;
    }

    .group-list {
      display: flex;
      flex-direction: column;
      gap: 6px;
      margin-top: 4px;
    }

    .group-card {
      border-radius: 12px;
      padding: 7px 8px;
      border: 1px solid #ffd6df;
      background: #fffafd;
      cursor: pointer;
      font-size: 11px;
    }

    .group-name {
      font-weight: 700;
      margin-bottom: 2px;
    }

    .group-meta {
      font-size: 10px;
      color: var(--text-muted);
    }

    .featured-mini-list {
      display: flex;
      flex-direction: column;
      gap: 5px;
    }

    .featured-mini-item {
      display: flex;
      gap: 7px;
      align-items: center;
      cursor: pointer;
    }

    .featured-thumb {
      width: 34px;
      height: 44px;
      border-radius: 8px;
      background: linear-gradient(135deg, #ffd9e3, #ffeef2);
      overflow: hidden;
      flex-shrink: 0;
    }

    .featured-thumb img {
      width: 100%;
      height: 100%;
      object-fit: cover;
    }

    .featured-info-title {
      font-size: 11px;
      font-weight: 600;
    }

    .featured-info-sub {
      font-size: 10px;
      color: var(--text-muted);
    }

    .py-about-text {
      font-size: 11px;
      color: var(--text-muted);
      margin-bottom: 6px;
    }

    .py-links {
      font-size: 11px;
      display: flex;
      flex-direction: column;
      gap: 3px;
    }

    .py-link {
      padding: 3px 7px;
      border-radius: 999px;
      border: 1px solid #ffd6df;
      background: #fff5f7;
      display: inline-block;
      margin-top: 2px;
    }

    /* ===== MODAL: GROUP DETAIL ===== */
    .modal-backdrop {
      position: fixed;
      inset: 0;
      background: rgba(0,0,0,0.35);
      display: none;
      align-items: center;
      justify-content: center;
      z-index: 40;
      padding: 16px;
    }

    .modal {
      max-width: 420px;
      width: 100%;
      background: #fff9fb;
      border-radius: 18px;
      padding: 12px 14px 14px;
      border: 1px solid #ffd6df;
      box-shadow: 0 10px 28px rgba(0,0,0,0.18);
      font-size: 12px;
    }

    .modal-header {
      display: flex;
      justify-content: space-between;
      align-items: flex-start;
      margin-bottom: 6px;
    }

    .modal-title {
      font-size: 14px;
      font-weight: 800;
      display: flex;
      flex-direction: column;
      gap: 2px;
    }

    .modal-sub {
      font-size: 11px;
      color: var(--text-muted);
    }

    .modal-close {
      border: none;
      background: transparent;
      cursor: pointer;
      font-size: 14px;
      color: var(--text-muted);
    }

    .modal-section-title {
      font-weight: 600;
      margin-top: 6px;
      margin-bottom: 3px;
      font-size: 12px;
    }

    .modal-list {
      margin-left: 12px;
      margin-top: 3px;
    }

    .modal-list li {
      margin-bottom: 2px;
    }

    footer {
      padding: 10px 18px 16px;
      font-size: 11px;
      color: var(--text-muted);
      text-align: center;
    }

    footer span {
      color: var(--accent-dark);
      font-weight: 600;
    }

    /* ===== READER MODAL ===== */
    .reader-backdrop {
      position: fixed;
      inset: 0;
      background: rgba(0,0,0,0.65);
      display: none;
      align-items: center;
      justify-content: center;
      z-index: 45;
      padding: 10px;
    }

    .reader-shell {
      max-width: 960px;
      width: 100%;
      max-height: 100%;
      background: #020617;
      border-radius: 16px;
      border: 1px solid #ffb3c5;
      display: flex;
      flex-direction: column;
      overflow: hidden;
    }

    .reader-header {
      padding: 6px 10px;
      display: flex;
      justify-content: space-between;
      align-items: center;
      color: #ffe4ee;
      font-size: 12px;
      background: linear-gradient(to right, #3b0f23, #1f1020);
    }

    .reader-title {
      font-weight: 600;
    }

.reader-main {
  flex: 1;
  padding: 10px;
  overflow-y: auto;
  background: radial-gradient(circle at top, #1f1020, #020617);
}

/* Container ch·ª©a t·∫•t c·∫£ c√°c trang */
#readerPages {
  max-width: 960px;
  margin: 0 auto;
}

/* M·ªói trang truy·ªán */
.reader-img-wrap {
  position: relative;
  margin-bottom: 16px;
}

/* ·∫¢nh full-width, cu·ªôn d·ªçc */
.reader-img {
  width: 100%;
  height: auto;
  max-height: none;
  border-radius: 12px;
  background: #000;
  display: block;
}


    .reader-img-watermark {
      position: absolute;
      inset: 0;
      pointer-events: none;
    }

    .reader-img-watermark::after {
      content: "thegioihu.com ‚Ä¢ nh√≥m d·ªãch";
      position: absolute;
      inset: 20%;
      transform: rotate(-28deg);
      font-size: 16px;
      letter-spacing: 0.2em;
      text-transform: uppercase;
      color: rgba(255,255,255,0.35);
      text-shadow: 0 1px 3px rgba(0,0,0,0.7);
    }

    .reader-footer {
      padding: 6px 10px 8px;
      display: flex;
      justify-content: space-between;
      align-items: center;
      background: #0b0c16;
      color: #d1d5db;
      font-size: 11px;
    }

    .reader-controls {
      display: flex;
      gap: 6px;
      align-items: center;
    }

    .reader-btn {
      border-radius: 999px;
      border: 1px solid #ffb4c8;
      background: transparent;
      color: #ffe4ef;
      padding: 4px 8px;
      font-size: 11px;
      cursor: pointer;
    }

    .reader-btn:disabled {
      opacity: 0.4;
      cursor: default;
    }

    .reader-close {
      border-radius: 999px;
      border: none;
      background: transparent;
      color: #e5e7eb;
      cursor: pointer;
      font-size: 13px;
    }

    /* Disable right click on images */
    img {
      -webkit-user-drag: none;
      user-select: none;
    }
  </style>
</head>
<body>
  <!-- PASSWORD GATE -->
  <div id="gate" class="gate-backdrop">
    <div class="gate-box">
      <div class="gate-logo">
        <div class="gate-logo-mark">ËÉ°</div>
        <div>
          thegioi<span>hu</span>.com
        </div>
      </div>
      <div class="gate-subtitle">Kh√¥ng gian ƒë·ªçc boy love d√†nh cho h·ªß ƒë√£ ƒë·ªß 18+.</div>
      <div class="age-badge">
        üîû 18+ only
      </div>
      <form id="gateForm" class="gate-form">
        <label for="gatePassword">M·∫≠t kh·∫©u v√†o nh√†</label>
        <input id="gatePassword" type="password" class="gate-input" placeholder="Nh·∫≠p m·∫≠t kh·∫©u..." />
        <button type="submit" class="gate-btn">M·ªü c·ªïng th·∫ø gi·ªõi h·ªß</button>
        <div id="gateError" class="gate-error"></div>
      </form>
      <div class="gate-note">
        L∆∞u √Ω: ƒë√¢y ch·ªâ l√† l·ªõp b·∫£o v·ªá c∆° b·∫£n cho ng∆∞·ªùi d√πng th√¥ng th∆∞·ªùng.  
        H√£y tu√¢n th·ªß lu·∫≠t n∆∞·ªõc b·∫°n v·ªÅ n·ªôi dung 18+.
      </div>
    </div>
  </div>

  <!-- APP -->
  <div id="app" class="app-shell" style="display:none">
    <header>
      <div class="header-inner">
        <div class="logo">
          <div class="logo-mark">ËÉ°</div>
          <div>
            <div class="logo-text-main">thegioi<span>hu</span>.com</div>
            <div class="logo-text-sub">boy love ‚Ä¢ shounen ai ‚Ä¢ yaoi</div>
          </div>
        </div>

        <nav>
          <button class="nav-link active" data-scroll="top">Trang ch·ªß</button>
          <button class="nav-link" data-scroll="genres">Th·ªÉ lo·∫°i</button>
          <button class="nav-link" data-scroll="groups">Nh√≥m d·ªãch</button>
          <button class="nav-link" data-scroll="featured">Truy·ªán n·ªïi b·∫≠t</button>
        </nav>

        <div class="search-box">
          <span class="search-icon">üîç</span>
          <input id="searchInput" type="text" placeholder="T√¨m truy·ªán / tag / nh√≥m / Py Danmei..." />
        </div>
      </div>
    </header>

    <main>
      <!-- LEFT COLUMN -->
      <section>
        <!-- HERO / GI·ªöI THI·ªÜU -->
        <div class="hero-card" id="top">
          <div class="hero-topline">welcome to</div>
          <div class="hero-title">
            <span class="hero-highlight">Th·∫ø gi·ªõi h·ªß</span>
          </div>
          <div class="hero-text" style="font-weight:700; color:#e4557a; margin-top:6px;">
            TH·∫¨P NI·ªÜM TH√ÄNH MA ‚Äî NH·∫§T NI·ªÜM H√ìA H·ª¶
          </div>
          <div class="hero-text">
            N∆°i l∆∞u gi·ªØ c√°c b·∫£n d·ªãch boy love / shounen ai / yaoi,  
            t·ª´ nh·ªØng c√¢u chuy·ªán ng·ªçt ng√†o ƒë·∫øn nh·ªØng c√¢u chuy·ªán‚Ä¶ h∆°i n·∫∑ng ƒë√¥ m·ªôt ch√∫t.  
            Vui l√≤ng t√¥n tr·ªçng c√¥ng s·ª©c nh√≥m d·ªãch v√† ƒë·ª´ng re-up khi ch∆∞a xin ph√©p nh√©.
          </div>
          <div class="hero-links">
            <span class="hero-link-pill">üìñ pydanmei.wordpress.com (ƒë√£ archive)</span>
            <span class="hero-link-pill">üíó fb.com/pydanmei</span>
          </div>
        </div>

        <!-- Featured -->
        <div class="section" id="featured">
          <div class="section-header">
            <div class="section-title">
              Truy·ªán n·ªïi b·∫≠t
              <span class="section-title-pill">Ti√™u bi·ªÉu c·ªßa Py</span>
            </div>
          </div>
          <div id="featuredList" class="card-list"></div>
        </div>

        <!-- All comics + filter -->
        <div class="section" id="genres">
          <div class="section-header">
            <div>
              <div class="section-title">
                T·∫•t c·∫£ truy·ªán
              </div>
              <div class="section-subtitle">
                L·ªçc theo th·ªÉ lo·∫°i & tag. M·ªôt s·ªë truy·ªán 18+ n·∫∑ng b·∫°n c√≥ th·ªÉ t·ª± th√™m sau trong file.
              </div>
            </div>
          </div>

          <div class="chips" id="genreChips"></div>
          <div class="chips" id="tagChips" style="margin-top:4px;"></div>

          <div id="comicList" class="card-list" style="margin-top:8px;"></div>

          <div id="storyDetailContainer"></div>
        </div>
      </section>

      <!-- RIGHT COLUMN -->
      <aside>
        <div class="side-card">
          <div class="side-card-title">Tag c∆° b·∫£n & 18+</div>
          <div class="side-card-sub">Click ƒë·ªÉ l·ªçc nhanh truy·ªán theo tag.</div>
          <div id="sideTagChips" class="chips"></div>
        </div>

        <div class="side-card" id="groups">
          <div class="side-card-title">Nh√≥m d·ªãch</div>
          <div class="side-card-sub">Th√¥ng tin nh√≥m ch√≠nh v√† c√°c nh√≥m kh√°ch m·ªùi.</div>
          <div id="groupList" class="group-list"></div>
        </div>

        <div class="side-card">
          <div class="side-card-title">Truy·ªán ti√™u bi·ªÉu</div>
          <div class="side-card-sub">M·ªôt v√†i c√°i t√™n ƒë·∫°i di·ªán cho gu h·ªß nh√† m√¨nh.</div>
          <div id="sideFeaturedList" class="featured-mini-list"></div>
        </div>

        <div class="side-card">
          <div class="side-card-title">V·ªÅ Py Danmei</div>
          <div class="py-about-text">
            Py l√† ng∆∞·ªùi ƒë·ª©ng sau <b>thegioihu.com</b> v√† <b>Py Danmei</b>,  
            t·ª´ng ho·∫°t ƒë·ªông t·∫°i pydanmei.wordpress.com v·ªõi nhi·ªÅu d·ª± √°n BL/yaoi ƒëa d·∫°ng.
          </div>
          <div class="py-links">
            <div>Li√™n h·ªá & theo d√µi:</div>
            <a href="https://pydanmei.wordpress.com" target="_blank" class="py-link">üåê pydanmei.wordpress.com (ƒë√£ x√≥a/ƒë√≥ng, ƒë·ªÉ l√†m k·ª∑ ni·ªám)</a>
            <a href="https://www.facebook.com/pydanmei" target="_blank" class="py-link">üíó Facebook: @pydanmei</a>
          </div>
        </div>
      </aside>
    </main>

    <footer>
  <div style="margin-bottom:4px; font-weight:700; color:#e4557a;">
    TH·∫¨P NI·ªÜM TH√ÄNH MA ‚Äî NH·∫§T NI·ªÜM H√ìA H·ª¶
  </div>
  ¬© <span id="year"></span> thegioihu ‚Äî Th·∫ø gi·ªõi h·ªß | Vui l√≤ng kh√¥ng re-up khi ch∆∞a c√≥ s·ª± cho ph√©p nh√≥m d·ªãch.
</footer>

  </div>

  <!-- GROUP MODAL -->
  <div id="groupModalBackdrop" class="modal-backdrop">
    <div class="modal">
      <div class="modal-header">
        <div class="modal-title">
          <span id="groupModalName"></span>
          <span id="groupModalSince" class="modal-sub"></span>
        </div>
        <button class="modal-close" id="groupModalClose">‚úï</button>
      </div>
      <div>
        <div class="modal-section-title">Ch√¢m ng√¥n</div>
        <div id="groupModalMotto"></div>

        <div class="modal-section-title">Gi·ªõi thi·ªáu</div>
        <div id="groupModalAbout"></div>

        <div class="modal-section-title">Th√†nh vi√™n</div>
        <ul id="groupModalMembers" class="modal-list"></ul>

        <div class="modal-section-title">Li√™n h·ªá</div>
        <div id="groupModalLinks"></div>
      </div>
    </div>
  </div>

<!-- READER MODAL -->
<div id="readerBackdrop" class="reader-backdrop">
  <div class="reader-shell">
    <div class="reader-header">
      <div class="reader-title" id="readerTitle"></div>
      <button class="reader-close" id="readerClose">‚úï</button>
    </div>
    <div class="reader-main">
      <div id="readerPages"></div>
    </div>
    <div class="reader-footer">
      <div id="readerPageInfo">Cu·ªôn ƒë·ªÉ xem ti·∫øp ‚Ä¢ Esc ƒë·ªÉ tho√°t</div>
      <div class="reader-controls">
        <!-- Gi·ªØ footer cho ƒë·∫πp, kh√¥ng c·∫ßn n√∫t n·ªØa -->
      </div>
    </div>
  </div>
</div>

  <script>
    // ========= C·∫§U H√åNH C∆† B·∫¢N =========
    const SITE_PASSWORD = "hu18only"; // b·∫°n n√≥i ok r·ªìi n√™n m√¨nh gi·ªØ nguy√™n

    // Nh√≥m d·ªãch
   // Updated GROUPS array for your index.html
const GROUPS = [
  {
    id: "py-danmei",
    name: "Py Danmei",
    founded: "Ho·∫°t ƒë·ªông t·ª´ tr∆∞·ªõc 2020",
    motto:
      "Ch√∫ng t·ªõ l√† m·ªôt nh√≥m nh·ªè c√°c b·∫°n (h·ªß) v·ªõi ni·ªÅm ƒëam m√™ truy·ªán boylove b·∫•t di·ªát. We love what we do, and we do it with passion.",
    about:
      "Py Danmei l√† nh√≥m d·ªãch BL/yaoi ƒë∆∞·ª£c th√†nh l·∫≠p sau khi Py r·ªùi nh√≥m Ship of The Dream (blogtruyen.com, ƒë√£ d·ª´ng ho·∫°t ƒë·ªông). T·∫°i ƒë√¢y, Py ti·∫øp t·ª•c d·ªãch truy·ªán v√¨ ƒëam m√™ v√† l∆∞u gi·ªØ v√¨ k·ª∑ ni·ªám, v·ªõi nhi·ªÅu d·ª± √°n ƒëa d·∫°ng t·ª´ d·ªÖ th∆∞∆°ng ƒë·∫øn n·∫∑ng ƒë√¥.",
    members: [
      "Py ‚Äî Boss, Translator, Editor, PR (t·ª´ng thu·ªôc nh√≥m Ship of The Dream)",
      "Furu ‚Äî Ph√≥ Boss, Editor",
      "Color ‚Äî E-Translator",
      "Deer ‚Äî E-Translator"
    ],
    links: [
      { label: "Facebook", url: "https://www.facebook.com/pydanmei" },
      { label: "Email", url: "mailto:pydanmeii@gmail.com" },
      { label: "Trang WordPress c≈©", url: "https://pydanmei.wordpress.com" }
    ]
  },
  {
    id: "guest-scans",
    name: "Guest / Scan kh√°c",
    founded: "C√°c nh√≥m h·ª£p t√°c",
    motto: "Ghi credit ƒë·∫ßy ƒë·ªß cho t·ª´ng nh√≥m.",
    about:
      "D√πng cho c√°c d·ª± √°n m√† Py ph·ªëi h·ª£p ho·∫∑c d·ª±a tr√™n b·∫£n eng t·ª´ nh·ªØng nh√≥m kh√°c (v√≠ d·ª•, b·∫°n c√≥ th·ªÉ ch·ªânh s·ª≠a theo credit th·∫≠t c·ªßa t·ª´ng truy·ªán).",
    members: ["C√°c nh√≥m eng / raw provider"],
    links: []
  }
];


// ===== TH·ªÇ LO·∫†I CH√çNH (3 LO·∫†I) + TAG =====

// 3 genre ch√≠nh
const GENRE_INFO = {
  "Shounen ai": {
    label: "Shounen ai",
    desc: "T√¨nh c·∫£m nh·∫π nh√†ng, thi√™n v·ªÅ c·∫£m x√∫c, r·∫•t √≠t ho·∫∑c kh√¥ng c√≥ c·∫£nh 18+ r√µ r√†ng."
  },
  "Yaoi": {
    label: "Yaoi",
    desc: "T√¨nh c·∫£m c√≥ y·∫øu t·ªë 16+‚Äì18+, c√≥ c·∫£nh th√¢n m·∫≠t/gi∆∞·ªùng chi·∫øu ·ªü m·ª©c v·ª´a ph·∫£i."
  },
  "Hard yaoi": {
    label: "Hard yaoi",
    desc: "N·ªôi dung n·∫∑ng, nhi·ªÅu c·∫£nh 18+, smut/H, c√≥ th·ªÉ k√®m kink, c∆∞·ª°ng √©p, b·∫°o l·ª±c..."
  },
  "Shounen": {
    label: "Shounen",
    desc: "Truy·ªán kh√¥ng c√≥ y·∫øu t·ªë couple, ch·ªâ d√†nh ƒë·ªçc vui..."
  },
  "Shoujo": {
    label: "Shoujo",
    desc: "Truy·ªán nam x n·ªØ."
  }
};

// Tag ph·ª• (d√πng cho l·ªçc + hi·ªÉn th·ªã)
const TAG_INFO = {
  "School life": {
    label: "School life / H·ªçc ƒë∆∞·ªùng",
    desc: "B·ªëi c·∫£nh ch√≠nh l√† tr∆∞·ªùng h·ªçc, h·ªçc sinh ‚Äì sinh vi√™n."
  },
  "Romance": {
    label: "Romance / L√£ng m·∫°n",
    desc: "T·∫≠p trung v√†o t√¨nh y√™u, crush, t·ªè t√¨nh, h·∫πn h√≤..."
  },
  "Comedy": {
    label: "Comedy / H√†i h∆∞·ªõc",
    desc: "Nhi·ªÅu t√¨nh hu·ªëng vui v·∫ª, g√¢y c∆∞·ªùi, kh√¥ng kh√≠ t∆∞∆°ng ƒë·ªëi nh·∫π nh√†ng."
  },
  "Drama": {
    label: "Drama",
    desc: "C·∫£m x√∫c n·∫∑ng, c√≥ xung ƒë·ªôt, t·ªïn th∆∞∆°ng, d·∫±n v·∫∑t."
  },
  "Psychological": {
    label: "Psychological / T√¢m l√Ω",
    desc: "ƒê√†o s√¢u t√¢m l√Ω nh√¢n v·∫≠t, ƒë√¥i khi c√≥ y·∫øu t·ªë m√©o m√≥ / √°m ·∫£nh."
  },
  "Omegaverse": {
    label: "Omegaverse / ABO",
    desc: "Th·∫ø gi·ªõi ABO (Alpha / Beta / Omega), th∆∞·ªùng c√≥ b·∫£n nƒÉng, ph√°t t√¨nh, ƒë√°nh d·∫•u..."
  },
  "Oneshot": {
    label: "Oneshot",
    desc: "Truy·ªán ng·∫Øn ch·ªâ 1 ch∆∞∆°ng ho·∫∑c 1 ph·∫ßn."
  },
  "Doujinshi": {
    label: "Doujinshi",
    desc: "Truy·ªán fanmade d·ª±a tr√™n series c√≥ s·∫µn (anime/manga/game...)."
  },
  "18+": {
    label: "18+",
    desc: "C√≥ n·ªôi dung ng∆∞·ªùi l·ªõn, ch·ªâ d√†nh cho ƒë·ªôc gi·∫£ ƒë√£ ƒë·ªß 18 tu·ªïi."
  },
  "Horror": {
    label: "Horror / Kinh d·ªã",
    desc: "C√≥ y·∫øu t·ªë ma qu·ª∑, gh√™ r·ª£n, b·ªëi c·∫£nh ƒë√°ng s·ª£."
  },
  "Dark": {
    label: "Dark",
    desc: "Kh√¥ng kh√≠ n·∫∑ng, c√≥ b·∫°o l·ª±c, c∆∞·ª°ng √©p, √°m ·∫£nh."
  },
  "Hypnosis": {
    label: "Hypnosis / Th√¥i mi√™n",
    desc: "Nh√¢n v·∫≠t b·ªã t√°c ƒë·ªông b·ªüi th√¥i mi√™n / m·∫•t ki·ªÉm so√°t."
  },
  "BDSM": {
    label: "BDSM",
    desc: "C√≥ y·∫øu t·ªë b·∫°o d√¢m, tr√≥i bu·ªôc, ch∆°i kink."
  },
  "Bondage": {
    label: "Bondage / Tr√≥i bu·ªôc",
    desc: "Nh√¢n v·∫≠t b·ªã tr√≥i, r√†ng bu·ªôc v·ªÅ m·∫∑t th·ªÉ x√°c."
  },
  "Hardcore": {
    label: "Hardcore",
    desc: "C·∫£nh H r·∫•t n·∫∑ng, kh√¥ng che ƒë·∫≠y nhi·ªÅu."
  },
  "Supernatural": {
    label: "Si√™u nhi√™n",
    desc: "C√≥ y·∫øu t·ªë ma, qu·ª∑, th·∫ßn linh, nƒÉng l·ª±c ƒë·∫∑c bi·ªát..."
  },
  "Fantasy": {
    label: "Fantasy / Gi·∫£ t∆∞·ªüng",
    desc: "Th·∫ø gi·ªõi ho·∫∑c y·∫øu t·ªë kh√¥ng c√≥ trong ƒë·ªùi th·ª±c."
  },
  "Mystery": {
    label: "Mystery / B√≠ ·∫©n",
    desc: "C√≥ ƒëi·ªÅu tra, b√≠ ·∫©n, c·∫£m gi√°c 'c√≥ g√¨ ƒë√≥ kh√¥ng ·ªïn'."
  },
  "Teacher": {
    label: "Th·∫ßy tr√≤",
    desc: "Quan h·ªá gi·ªØa gi√°o vi√™n ‚Äì h·ªçc sinh ho·∫∑c ng∆∞·ªùi h∆∞·ªõng d·∫´n ‚Äì h·ªçc tr√≤."
  },
  "Mature": {
    label: "Mature",
    desc: "Kh√¥ng kh√≠ ng∆∞·ªùi l·ªõn, n·ªôi dung ch√≠n ch·∫Øn, ƒë√¥i khi bu·ªìn."
  },
  "Short Story": {
    label: "Truy·ªán ng·∫Øn",
    desc: "Truy·ªán ng·∫Øn √≠t ch∆∞∆°ng, ƒë·ªçc nhanh."
  },
  "Animal Characteristic": {
    label: "Tai th√∫ / ƒê·∫∑c ƒëi·ªÉm ƒë·ªông v·∫≠t",
    desc: "Nh√¢n v·∫≠t c√≥ tai, ƒëu√¥i, ƒë·∫∑c ƒëi·ªÉm gi·ªëng ƒë·ªông v·∫≠t."
  },
  "Mindbreak": {
    label: "mind-break",
    desc: "Nh√¢n v·∫≠t b·ªã t√°c ƒë·ªông v√† kh√¥ng c√≤n b√¨nh th∆∞·ªùng n·ªØa"
  }
};

// Danh s√°ch ƒë·ªÉ render chips
const GENRES = Object.keys(GENRE_INFO);
const TAGS = Object.keys(TAG_INFO);

// M·ªôt ph·∫ßn list truy·ªán t·ª´ blog c≈© c·ªßa Py
const COMICS = [
  {
    id: "chu-ac-quy-va-cau-be-ca-hat",
    title: "Ch√∫ √Åc Qu·ª∑ V√† C·∫≠u B√© Ca H√°t",
    originalTitle: "ÊÇ™È≠î„Åï„Çì„Å®„ÅäÊ≠å / Akumasan To Outa",
    author: "Im; Makoto Morishita",
    cover: "images/chu-ac-quy-cover.jpg",
    adult: false,
    genre: "Shounen",
    tags: ["Demon", "Comedy", "Music", "Heartwarming"],
    groupId: "py-danmei",
    updated: "2021-09-01",
    status: "ƒê√£ ho√†n th√†nh",
    summary:
      "Hetappi-chan, c·∫≠u b√© b·ªã ƒëu·ªïi kh·ªèi Th√°nh Ca ƒêo√†n v√¨ h√°t k√©m. Ch√∫ √Åc Qu·ª∑ ƒë·∫øn ƒë·ªÉ gi·∫øt c·∫≠u l·∫°i b·∫•t ng·ªù tr·ªü th√†nh th·∫ßy d·∫°y nh·∫°c. Gi·ªØa ƒë√™m t·ªëi, m·ªôt √°c qu·ª∑ v√† m·ªôt c·∫≠u b√© l·∫≠p n√™n m·ªëi quan h·ªá k·ª≥ l·∫° nh∆∞ng ƒë·∫ßy ·∫•m √°p quanh nh·ªØng b·∫£n th√°nh ca.",
    relatedIds: ["giac-mo", "tinh-yeu-tham-lang"],
    pages: [
      "images/chu-ac-quy/1.jpg",
      "images/chu-ac-quy/2.jpg",
      "images/chu-ac-quy/3.jpg",
      "images/chu-ac-quy/4.jpg"
    ]
  },
  {
    id: "cho-muc",
    title: "Ch√≥ M·ª±c",
    originalTitle: "Black Dog / Èªí„ÅÑÁä¨ / Kuroi Inu",
    author: "KAMO",
    cover: "images/cho-muc-cover.jpg",
    adult: true,
    genre: "Yaoi",
    tags: ["Comedy", "School life", "Romance", "18+", "Manga"],
    groupId: "py-danmei",
    updated: "2022-06-22",
    status: "ƒê√£ ho√†n th√†nh",
    summary:
      'M·ªôt c√¢u chuy·ªán d·ªÖ th∆∞∆°ng v·ªÅ Kei v√† "ch√∫ c√∫n con" ƒë·∫∑c bi·ªát c·ªßa c·∫≠u ‚Äì v·ª´a h√†i h∆∞·ªõc v·ª´a ·∫•m √°p.',
    relatedIds: ["tinh-yeu-tham-lang", "toi-khong-de-vut-mat-mua-xuan"],
    pages: ["images/cho-muc/1.jpg", "images/cho-muc/2.jpg"]
  },
  {
    id: "cung-dan-anh",
    title: "C√πng ƒê√†n Anh",
    originalTitle: "With Senpai, Senpai, to.",
    author: "Unknown",
    cover: "images/cung-dan-anh-cover.jpg",
    adult: true,
    genre: "Hard yaoi",
    tags: ["18+", "Dark", "Oneshot", "Rape", "NTR", "Mindbreak"],
    groupId: "py-danmei",
    updated: "2021-12-23",
    status: "ƒê√£ ho√†n th√†nh",
    summary: "T·∫•t c·∫£ b·∫Øt ƒë·∫ßu b·∫±ng m·ªôt bu·ªïi g·∫∑p m·∫∑t‚Ä¶",
    relatedIds: [],
    pages: ["images/cung-dan-anh/1.jpg"]
  },
  {
    id: "daiya-no-ace-dj-ngay-xui-xeo-cua-sawamura-eijun",
    title: "Daiya no Ace dj ‚Äì Ng√†y Xui X·∫ªo C·ªßa Sawamura Eijun",
    originalTitle:
      "Daiya no A | Ace of Diamond dj, Daiya no Ace dj ‚Äì Aru hi no Sawamura Jun no sainan; Daiya no Ace dj ‚Äì Sawamura Eijun‚Äôs Unfortunate Day",
    author: "DigDug (Shippo)",
    cover: "images/ngay-xui-xeo-cover.jpg",
    adult: true,
    genre: "Hard yaoi",
    tags: ["Doujinshi", "18+", "Yaoi", "Drama", "Oneshot", "Rape"],
    groupId: "py-danmei",
    updated: "2021-12-23",
    status: "ƒê√£ ho√†n th√†nh",
    summary:
      "Kazuya Miyuki x Eijun Sawamura. Ng√†y n·ªç, Eijun b·ªóng b·ªã k·∫πt khi c·ªë chui qua m·ªôt khe t∆∞·ªùng‚Ä¶",
    relatedIds: [],
    pages: ["images/ngay-xui-xeo/1.jpg"]
  },
  {
    id: "giac-mo",
    title: "Gi·∫•c M∆°",
    originalTitle: "„ÇΩ„É†„Éã„Ç¢, Somnia",
    author: "KURAKA Sui",
    cover: "images/giac-mo-cover.png",
    adult: true,
    genre: "Yaoi",
    tags: ["Drama", "Psychological", "Oneshot", "18+"],
    groupId: "py-danmei",
    updated: "2021-12-23",
    status: "ƒê√£ ho√†n th√†nh",
    summary:
      "M·ªôt ch√†ng trai m·∫Øc b·ªánh n·∫∑ng, ch·∫≥ng c√≤n s·ªëng ƒë∆∞·ª£c bao l√¢u, ƒëem l√≤ng y√™u v·ªã b√°c sƒ© c·ªßa m√¨nh v√† mu·ªën trao h·∫øt m·ªçi th·ª© cho ng∆∞·ªùi ·∫•y ‚Äì d√π lu√¥n b·ªã ƒë·ªëi x·ª≠ l·∫°nh nh·∫°t.",
    relatedIds: [],
    pages: ["images/giac-mo/1.jpg"]
  },
  {
    id: "haga-muon-bi-can",
    title: "Haga Mu·ªën B·ªã C·∫Øn",
    originalTitle:
      "ÁæΩË≥Ä„Åè„Çì„ÅØÂôõ„Åæ„Çå„Åü„ÅÑ, Haga-kun wa Kamaretai, Quiero morder a Haga-kun",
    author: "SAKISHITA Senmu",
    cover: "images/haga-cover.jpg",
    adult: true,
    genre: "Yaoi",
    tags: ["Omegaverse", "Comedy", "18+"],
    groupId: "py-danmei",
    updated: "2021-11-13",
    status: "ƒê√£ ho√†n th√†nh",
    summary:
      'C√¢u chuy·ªán v·ªÅ m·ªôt anh ch√†ng tr√¥ng coi nh√† giam v√† m·ªôt t√π nh√¢n ƒë·∫ßy b√≠ ·∫©n, v·ªõi r·∫•t nhi·ªÅu t√¨nh hu·ªëng d·ªü kh√≥c d·ªü c∆∞·ªùi xoay quanh "nh·ªØng v·∫øt c·∫Øn".',
    relatedIds: ["dam-chim-trong-duc-vong"],
    pages: ["images/haga/1.jpg"]
  },
  {
    id: "bup-be-cua-nguoi",
    title: "B√∫p B√™ C·ªßa Ng∆∞·ªùi",
    originalTitle: "Dareka no Ningyou, The Doll of Another",
    author: "Kume (Minakami)",
    cover: "images/bup-be-cua-nguoi-cover.jpg",
    adult: true,
    genre: "Hard yaoi",
    tags: ["Teacher", "Oneshot", "18+", "Rape"],
    groupId: "py-danmei",
    updated: "2021-12-23",
    status: "ƒê√£ ho√†n th√†nh",
    summary: "Em ch√≠nh l√† b√∫p b√™ c·ªßa t√¥i‚Ä¶",
    relatedIds: [],
    pages: ["images/bup-be-cua-nguoi/1.jpg"]
  },
  {
    id: "can-ho-ma",
    title: "CƒÉn H·ªô Ma",
    originalTitle: "Danshoku Rei no Sumu Apato",
    author: "Chimple Island (Chimple Hotter)",
    cover: "images/can-ho-ma-cover.jpg",
    adult: true,
    genre: "Hard yaoi",
    tags: ["Horror", "18+", "Dark", "Oneshot", "Mindbreak", "Rape"],
    groupId: "py-danmei",
    updated: "2021-??-??",
    status: "ƒê√£ ho√†n th√†nh",
    summary:
      "M·ªôt cƒÉn h·ªô n∆°i c√≥ m·ªôt h·ªìn ma nam c∆∞ ng·ª•, v√† nh·ªØng v·ªã kh√°ch gh√© qua ƒë·ªÅu ph·∫£i tr·∫£ gi√° theo nh·ªØng c√°ch kh√°c nhau.",
    relatedIds: [],
    pages: ["images/can-ho-ma/1.jpg"]
  },
  {
    id: "summer-war-dj-thoi-mien-kazuma-kun",
    title: "Summer War dj ‚Äì Th√¥i Mi√™n Kazuma-kun",
    originalTitle: "Kazuma-kun o Saimin de Oyome-san ni Shimasu",
    author: "Seki Sabato (Tsukuru)",
    cover: "images/thoi-mien-kazuma-kun-cover.jpg",
    adult: true,
    genre: "Hard yaoi",
    tags: ["Doujinshi", "Hypnosis", "18+", "Oneshot", "Rape"],
    groupId: "py-danmei",
    updated: "2021-??-??",
    status: "ƒê√£ ho√†n th√†nh",
    summary: "Kazuma-kun li√™n t·ª•c nh·∫≠n ƒë∆∞·ª£c nh·ªØng email k√¨ l·∫°...",
    relatedIds: [],
    pages: ["images/thoi-mien-kazuma-kun/1.jpg"]
  },
  {
    id: "tinh-yeu-tham-lang",
    title: "T√¨nh Y√™u Th·∫ßm L·∫∑ng",
    originalTitle: "ÁÑ°Âè£„Å™ÊÉ≥„ÅÑ„ÅØÊÅã„Å®„Å™„Çã, Mukuchi na Omoi wa Koi to Naru",
    author: "Edanaka",
    cover: "images/tinh-yeu-tham-lang-cover.jpg",
    adult: true,
    genre: "Shounen ai",
    tags: ["Romance", "School life"],
    groupId: "py-danmei",
    updated: "2021-10-30",
    scanlator: "Pink Cherry Blossom Scans",
    status: "ƒê√£ ho√†n th√†nh",
    summary:
      "Yuki tr·ªü n√™n tr·∫ßm l·∫∑ng sau m·ªôt s·ª± c·ªë th·ªùi c·∫•p hai. Kawai ‚Äì c·∫≠u b·∫°n lu√¥n t·ªèa s√°ng gi·ªØa l·ªõp ‚Äì l√† ng∆∞·ªùi duy nh·∫•t k√©o c·∫≠u ra kh·ªèi v·ªè ·ªëc, v√† c≈©ng l√† ng∆∞·ªùi khi·∫øn tr√°i tim c·∫≠u rung ƒë·ªông.",
    relatedIds: ["cho-muc", "toi-se-khong-de-vut-mat-mua-xuan-cua-minh-dau"],
    pages: ["images/tinh-yeu-tham-lang/1.jpg"]
  },
  {
    id: "toi-se-khong-de-vut-mat-mua-xuan-cua-minh-dau",
    title: "T√¥i S·∫Ω Kh√¥ng ƒê·ªÉ V·ª•t M·∫•t M√πa Xu√¢n C·ªßa M√¨nh ƒê√¢u!",
    originalTitle: "‰ø∫„ÅÆ„Ç¢„Ç™„Éè„É´„ÅØÊ∏°„Åï„Å™„ÅÑ, Ore no Aoharu wa Watasanai",
    author: "KATOU Susu",
    cover: "images/mua-xuan-cover.jpg",
    adult: true,
    genre: "Shounen ai",
    tags: ["Comedy", "School life", "Romance", "Manga"],
    groupId: "py-danmei",
    updated: "2021-05-17",
    status: "ƒê√£ ho√†n th√†nh",
    summary:
      "Subaru ‚Äì ho√†ng t·ª≠ ng·∫ßu l√≤i nh·∫•t tr∆∞·ªùng ‚Äì th·ª±c ra l√† m·ªôt con nghi·ªán truy·ªán shoujo. Khi Jinnai, ng∆∞·ªùi b·∫°n c≈© v√† l√† ng∆∞·ªùi duy nh·∫•t bi·∫øt b√≠ m·∫≠t ƒë√≥, chuy·ªÉn ƒë·∫øn l·ªõp, k·∫ø ho·∫°ch thanh xu√¢n ho√†n h·∫£o c·ªßa Subaru b·∫Øt ƒë·∫ßu ch·ªách h∆∞·ªõng. ‚ÄúT√¥i s·∫Ω kh√¥ng ƒë·ªÉ c·∫≠u ph√° h·ªßy k·∫ø ho·∫°ch thanh xu√¢n ho√†n h·∫£o c·ªßa t√¥i ƒë√¢u!‚Äù.\nNh∆∞ng v√¨ m·ªôt l√≠ do n√†o ƒë√≥, tr√°i tim ‚Äúthi·∫øu n·ªØ‚Äù c·ªßa c·∫≠u l·∫°i kh√¥ng ng·ª´ng rung ƒë·ªông khi ·ªü b√™n Jinnai!",
    relatedIds: ["tinh-yeu-tham-lang"],
    pages: ["images/mua-xuan/1.jpg"]
  },
  {
    id: "dam-chim-trong-duc-vong",
    title: "ƒê·∫Øm Ch√¨m Trong D·ª•c V·ªçng",
    originalTitle: "Ijiwaru na Tsukai no Netsu ni Oborete",
    author: "Sakuraba Yurin",
    cover: "images/dam-chim-cover.jpg",
    adult: true,
    genre: "Yaoi",
    tags: ["Omegaverse", "18+", "Drama"],
    groupId: "py-danmei",
    updated: "2024-01-08",
    status: "ƒêang ti·∫øn h√†nh",
    summary:
      "M·ªôt c√¢u chuy·ªán ABO xoay quanh giao d·ªãch, r√†ng bu·ªôc v√† ham mu·ªën ‚Äì n∆°i ranh gi·ªõi gi·ªØa l·ª±a ch·ªçn v√† √©p bu·ªôc kh√¥ng c√≤n r√µ r√†ng.",
    relatedIds: ["haga-muon-bi-can"],
    pages: ["images/dam-chim/1.jpg"]
  },
  {
    id: "anh-lua",
    title: "√Ånh L·ª≠a",
    originalTitle: "Fire",
    author: "Kuromutu (Kuroda Mutu)",
    cover: "images/anh-lua-cover.jpg",
    adult: true,
    genre: "Hard yaoi",
    tags: ["BDSM", "Bondage", "Hardcore", "Oneshot", "18+"],
    groupId: "py-danmei",
    updated: "2021-09-27",
    status: "ƒê√£ ho√†n th√†nh",
    summary: "V√¨ em g√°i, t√¥i ph·∫£i...",
    relatedIds: [],
    pages: []
  },
  {
    id: "anh-lua-2",
    title: "√Ånh L·ª≠a 2",
    originalTitle: "Fire 2",
    author: "Kuromutu (Kuroda Mutu)",
    cover: "images/anh-lua-2-cover.jpg",
    adult: true,
    genre: "Hard yaoi",
    tags: ["BDSM", "Bondage", "Hardcore", "Oneshot", "18+"],
    groupId: "py-danmei",
    updated: "2021-09-27",
    status: "ƒê√£ ho√†n th√†nh",
    summary: "V√¨ em g√°i, t√¥i ph·∫£i...",
    relatedIds: [],
    pages: []
  },
  {
    id: "free-ji-my-nhan-ngu-cua-tuong-lai",
    title: "Free! dj ‚Äì M·ªπ Nh√¢n Ng∆∞ C·ªßa T∆∞∆°ng Lai",
    originalTitle:
      "Free! dj ‚Äì Mermaid Future (‰∫∫È≠ö„ÅÆ„Éü„É©„Ç§), Ningyo no Mirai",
    author: "Oshidori torinet",
    cover: "images/my-nhan-ngu-cover.jpg",
    adult: false,
    genre: "Shounen ai",
    tags: ["Doujinshi", "Oneshot", "Supernatural"],
    groupId: "py-danmei",
    updated: "2021-05-13",
    status: "ƒê√£ ho√†n th√†nh",
    summary:
      "Haru l√† m·ªôt 'ch√†ng ti√™n c√°' v√† Rin c·∫£m th·∫•y ƒëi·ªÅu ƒë√≥ th·∫≠t tuy·ªát v·ªùi ‚ô•",
    relatedIds: [
      "free-ji-cuc-cung",
      "free-ji-ngay-he-ngay-dai",
      "free-ji-cu-giu-lay-neu-cau-muon"
    ],
    pages: []
  },
  {
    id: "free-ji-ngay-he-ngay-dai",
    title: "Free! dj ‚Äì Ng√†y H√® Ng√¢y D·∫°i",
    originalTitle:
      "Free! dj ‚Äì Awkward Summer Love, Bukyou Natsukoi",
    author: "ANCOCOCO/ Sakura Hitsuji",
    cover: "images/ngay-he-ngay-dai-cover.jpg",
    adult: false,
    genre: "Shounen ai",
    tags: ["Doujinshi", "Oneshot", "School life"],
    groupId: "py-danmei",
    updated: "2021-05-13",
    status: "ƒê√£ ho√†n th√†nh",
    summary: "Rin Matsuoka x Haruka Nanase ‚ô•",
    relatedIds: [
      "free-ji-cu-giu-lay-neu-cau-muon",
      "free-ji-my-nhan-ngu-cua-tuong-lai"
    ],
    pages: []
  },
  {
    id: "free-ji-cuc-cung",
    title: "Free! dj ‚Äì C·ª•c C∆∞ng! C·ª•c C∆∞ng! C·ª•c C∆∞ng!",
    originalTitle: "Free! dj ‚Äì Baby Baby Baby",
    author: "phenomena (AKIHOSHI Umi)",
    cover: "images/cuc-cung-cover.jpg",
    adult: false,
    genre: "Shounen ai",
    tags: ["Doujinshi", "Oneshot", "School life"],
    groupId: "py-danmei",
    updated: "2021-05-13",
    status: "ƒê√£ ho√†n th√†nh",
    summary: "Rin Matsuoka x Haruka Nanase ‚ô•",
    relatedIds: [
      "free-ji-cu-giu-lay-neu-cau-muon",
      "free-ji-my-nhan-ngu-cua-tuong-lai"
    ],
    pages: []
  },
  {
    id: "free-ji-cu-giu-lay-neu-cau-muon",
    title: "Free! dj ‚Äì C·ª© Gi·ªØ L·∫•y N·∫øu C·∫≠u Mu·ªën!",
    originalTitle: "Free! dj ‚Äì Be Jealous if You Want!",
    author: "Nightlight",
    cover: "images/cu-giu-lay-cover.jpg",
    adult: false,
    genre: "Shounen ai",
    tags: ["Doujinshi", "Oneshot", "School life"],
    groupId: "py-danmei",
    updated: "2021-05-13",
    status: "ƒê√£ ho√†n th√†nh",
    summary: "‚ô•",
    relatedIds: ["free-ji-my-nhan-ngu-cua-tuong-lai"],
    pages: []
  },
  {
    id: "free-ji-bi-mat-trong-phong-tam",
    title: "Free! dj ‚Äì B√≠ M·∫≠t Trong Ph√≤ng T·∫Øm",
    originalTitle:
      "Free! dj ‚Äì Himitsu no Shower Room / Secret Shower Room",
    author: "2bit",
    cover: "images/bi-mat-trong-phong-tam-cover.jpg",
    adult: true,
    genre: "Hard yaoi",
    tags: ["Doujinshi", "Oneshot", "School life"],
    groupId: "py-danmei",
    updated: "2021-05-13",
    status: "ƒê√£ ho√†n th√†nh",
    summary: "Rin Matsuoka x Haruka Nanase ‚ô•",
    relatedIds: [
      "free-ji-cu-giu-lay-neu-cau-muon",
      "free-ji-my-nhan-ngu-cua-tuong-lai"
    ],
    pages: []
  },
  {
    id: "free-ji-phong-thay-do",
    title: "Free! dj ‚Äì Ph√≤ng Thay ƒê·ªì",
    originalTitle:
      "Free! dj ‚Äì OSANANAJIMI TO SHICHAKUSHITSU NI IRU TO / When I Get into the Dressing Room with My Childhood Friends",
    author: "Kenashi Ai! / Mimisuke",
    cover: "images/phong-thay-do-cover.jpg",
    adult: true,
    genre: "Yaoi",
    tags: ["Doujinshi", "Oneshot", "NP", "Comedy"],
    groupId: "py-danmei",
    updated: "2021-05-13",
    status: "ƒê√£ ho√†n th√†nh",
    summary:
      "Makoto x Rin x Haruka. C√¢u chuy·ªán v·ªÅ 3 ch√†ng trai trong m·ªôt ph√≤ng th·ª≠ ƒë·ªì‚Ä¶ =)))))))) ‚ô•",
    relatedIds: [
      "free-ji-cu-giu-lay-neu-cau-muon",
      "free-ji-my-nhan-ngu-cua-tuong-lai"
    ],
    pages: []
  },
  {
    id: "free-ji-phong-doi",
    title: "Free! dj ‚Äì Ph√≤ng ƒê√¥i",
    originalTitle: "Free! dj ‚Äì Room For Two, Futari Gurashi",
    author: "Kenashi Ai! / Mimisuke",
    cover: "images/phong-doi-cover.jpg",
    adult: false,
    genre: "Shounen ai",
    tags: ["Doujinshi", "Oneshot", "NP"],
    groupId: "py-danmei",
    updated: "2021-05-13",
    status: "ƒê√£ ho√†n th√†nh",
    summary: "Rin Matsuoka x Haruka Nanase ‚ô•",
    relatedIds: [
      "free-ji-cu-giu-lay-neu-cau-muon",
      "free-ji-my-nhan-ngu-cua-tuong-lai"
    ],
    pages: []
  },
  {
    id: "free-ji-mot-ngay-buon-cua-thieu-nien",
    title: "Free! dj ‚Äì M·ªôt Ng√†y Bu·ªìn C·ªßa Thi·∫øu Ni√™n",
    originalTitle: "Free! dj ‚Äì Seishun Melancholy One Day",
    author: "Mitsumata / Mitsuko",
    cover: "images/mot-ngay-buon-cover.jpg",
    adult: false,
    genre: "Shounen ai",
    tags: ["Doujinshi", "Oneshot", "Romance"],
    groupId: "py-danmei",
    updated: "2021-05-13",
    status: "ƒê√£ ho√†n th√†nh",
    summary: "Uozumi x Minami ‚ô• Uozumi sau gi·∫£i ƒë·∫•u c·∫•p qu·∫≠n‚Ä¶",
    relatedIds: [
      "free-ji-cu-giu-lay-neu-cau-muon",
      "free-ji-my-nhan-ngu-cua-tuong-lai"
    ],
    pages: []
  },
  {
    id: "free-ji-yeu-them-lan-nua",
    title: "Free! dj ‚Äì Y√™u Th√™m L·∫ßn N·ªØa",
    originalTitle: "Free! dj ‚Äì One More Romance, Mou Ichido Koi wo Suru",
    author: "Overrunner / Rihara",
    cover: "images/yeu-them-lan-nua-cover.jpg",
    adult: false,
    genre: "Shounen ai",
    tags: ["Doujinshi", "Oneshot", "School life", "Drama"],
    groupId: "py-danmei",
    updated: "2021-05-13",
    status: "ƒê√£ ho√†n th√†nh",
    summary: "Rin Matsuoka x Haruka Nanase ‚ô•",
    relatedIds: [
      "free-ji-cu-giu-lay-neu-cau-muon",
      "free-ji-my-nhan-ngu-cua-tuong-lai"
    ],
    pages: []
  },
  {
    id: "super-danganronpa-2-trung-hoc-xuat-sac-kun",
    title: "Super Danganronpa 2 dj ‚Äì Trung H·ªçc Xu·∫•t S·∫Øc-kun",
    originalTitle:
      "Super Danganronpa 2 dj - Buchi Oka Yobi Gakka-kun",
    author: "Usamimi Syndrome (Erutasuku)",
    cover: "images/trung-hoc-xuat-sac-kun-cover.jpg",
    adult: true,
    genre: "Hard yaoi",
    tags: ["Doujinshi", "Fantasy", "Hypnosis", "18+", "NP"],
    groupId: "py-danmei",
    updated: "2021-11-15",
    status: "ƒê√£ ho√†n th√†nh",
    summary: "Qu√° tr√¨nh khai ph√° t√†i nƒÉng c·ªßa Hinata-kun...",
    relatedIds: [],
    pages: []
  },
  {
    id: "daiya-no-ace-dj-loi-thi-tham",
    title: "Daiya no Ace dj ‚Äì L·ªùi Th√¨ Th·∫ßm",
    originalTitle: "Diamond no Ace dj ‚Äì Murmur, Ace of Diamond",
    author: "VS (masa)",
    cover: "images/loi-thi-tham-cover.jpg",
    adult: false,
    genre: "Shounen ai",
    tags: ["Romance", "Doujinshi", "Oneshot"],
    groupId: "py-danmei",
    updated: "2021-12-01",
    status: "ƒê√£ ho√†n th√†nh",
    summary:
      "Kazuya Miyuki x Eijun Sawamura. M·ªôt doujinshi nh·∫π nh√†ng c·ªßa Daiya no Ace, ch·ªß y·∫øu xoay quanh nh·ªØng kho·∫£nh kh·∫Øc t√¨nh c·∫£m d·ªãu d√†ng.",
    relatedIds: [],
    pages: []
  },
  {
    id: "meo-yeu",
    title: "M√®o Y√™u",
    originalTitle: "„Éç„Ç≥‚òÖ„Åæ„Åü, Neko Mata",
    author: "KAMON Saeko",
    cover: "images/meo-yeu-cover.jpg",
    adult: true,
    genre: "Yaoi",
    tags: ["Fantasy", "Mature", "Romance", "School life", "Supernatural"],
    groupId: "py-danmei",
    updated: "2021-05-17",
    status: "ƒê√£ ho√†n th√†nh",
    summary:
      "Kimura, m·ªôt ch√†ng trai nh√∫t nh√°t, ƒë∆∞·ª£c th·∫ßy nh·ªù d·∫°y k√®m cho Shouhei. Nh·ªù s·ª± gi√∫p ƒë·ª° c·ªßa m√®o Kuro, m·ªôt ƒë√™m k√¨ l·∫° ƒë√£ thay ƒë·ªïi t·∫•t c·∫£‚Ä¶",
    relatedIds: [],
    pages: []
  },
  {
    id: "hac-giay",
    title: "H·∫°c Gi·∫•y",
    originalTitle: "IF",
    author: "Unknown",
    cover: "images/hac-giay-cover.jpg",
    adult: false,
    genre: "Shounen ai",
    tags: ["Drama", "Doujinshi", "Oneshot"],
    groupId: "py-danmei",
    updated: "2021-01-01",
    status: "ƒê√£ ho√†n th√†nh",
    summary:
      "M·ªôt ƒëo·∫£n truy·ªán ƒë·∫ßy c·∫£m x√∫c, m√¥ t·∫£ m·ªôt kh·∫£ nƒÉng 'n·∫øu nh∆∞' gi·ªØa hai ng∆∞·ªùi con trai.",
    relatedIds: [],
    pages: []
  },
  {
    id: "bi-thoi-mien-toi-tro-thanh-phu-nu-cua-thay",
    title: "B·ªã Th√¥i Mi√™n T√¥i Tr·ªü Th√†nh Ph·ª• N·ªØ C·ªßa Th·∫ßy",
    originalTitle:
      "Mesuochi Saiminkyouiku, Degenerating into a Female Hypnotism Education",
    author: "Usamimi Syndrome (Erutasuku)",
    cover: "images/thanh-phu-nu-cover.jpg",
    adult: true,
    genre: "Hard yaoi",
    tags: ["Hypnosis", "18+", "Hardcore", "Oneshot"],
    groupId: "py-danmei",
    updated: "2024-01-08",
    status: "ƒê√£ ho√†n th√†nh",
    summary:
      "M·ªôt gi√°o vi√™n ƒë√£ ph√°t minh ra app th√¥i mi√™n ƒë·ªÉ tr·ªã c·∫≠u h·ªçc tr√≤ h∆∞ h·ªèng c·ªßa m√¨nh‚Ä¶ ‚ù§",
    relatedIds: [],
    pages: ["images/thanh-phu-nu/1.jpg"]
  },
  {
    id: "alpha-rac-roi",
    title: "Alpha r·∫Øc r·ªëi",
    originalTitle: "Alpha Komplex",
    author: "Picricacid (Saiki Makiko)",
    cover: "images/alpha-rac-roi-cover.jpg",
    adult: true,
    genre: "Shounen ai",
    tags: ["Omegaverse", "Romance", "Oneshot"],
    groupId: "py-danmei",
    updated: "2024-01-08",
    status: "ƒê√£ ho√†n th√†nh",
    summary: "T√¨nh c·∫£m c·ªßa m·ªôt c·∫∑p Alpha s·∫Ω nh∆∞ th·∫ø n√†o‚Ä¶?!",
    relatedIds: ["alpha-rac-roi"],
    pages: ["images/alpha-rac-roi/1.jpg"]
  },
  {
    id: "hetalia-dj-ky-dieu-sau-cung",
    title: "Hetalia dj ‚Äì K·ª≥ Di·ªáu Sau C√πng",
    originalTitle: "Hetalia dj ‚Äì Dead Loss Wonder | Dead Loss Wander",
    author: "DELTA+8 (Mitaka)",
    cover: "images/ky-dieu-sau-cung-cover.jpg",
    adult: true,
    genre: "Yaoi",
    tags: ["Comedy", "Drama", "Oneshot", "Hardcore", "Doujinshi"],
    groupId: "py-danmei",
    updated: "2021-05-17",
    status: "ƒê√£ ho√†n th√†nh",
    summary:
      "America x Pirate England (US x UK). Tr√™n ƒë∆∞·ªùng v·ªÅ th√¨ b·ªã b·∫Øt c√≥c‚Ä¶",
    relatedIds: [],
    pages: ["images/ky-dieu-sau-cung/1.jpg"]
  },
  {
    id: "hoozuki-reitetsu-dj-ai-tinh-troi-buoc",
    title: "Hoozuki no Reitetsu dj ‚Äì √Åi T√¨nh Tr√≥i Bu·ªôc",
    originalTitle:
      "Hoozuki no Reitetsu dj - Aigan Shinjuu / Hoozuki no Reitetsu",
    author: "Contrast High (Kourimiya)",
    cover: "images/ai-tinh-troi-buoc-cover.jpg",
    adult: true,
    genre: "Yaoi",
    tags: ["Oneshot", "Doujinshi"],
    groupId: "py-danmei",
    updated: "2021-05-17",
    status: "ƒê√£ ho√†n th√†nh",
    summary:
      "Hoozuki x Hakutaku. Chuy·ªán v·ªÅ m·ªôt ch√†ng th·∫ßn th√∫ v√† ti·ªÉu qu·ª∑‚Ä¶..",
    relatedIds: [],
    pages: ["images/ai-tinh-troi-buoc/1.jpg"]
  },
  {
    id: "hypnosis-mic-dj-dap-an",
    title: "Hypnosis Mic dj ‚Äì ƒê√°p √Ån",
    originalTitle: "Hypnosis Mic dj ‚Äì Answer",
    author: "W.R.S (Takiyoshi)",
    cover: "images/dap-an-cover.jpg",
    adult: true,
    genre: "Yaoi",
    tags: ["Oneshot", "Omegaverse", "Doujinshi", "Hardcore"],
    groupId: "py-danmei",
    updated: "2024-01-08",
    status: "ƒê√£ ho√†n th√†nh",
    summary: "S·ª± hi·ªÉu l·∫ßm b·∫Øt ƒë·∫ßu b·∫±ng m·ªôt tr√≤ ƒë√πa...",
    relatedIds: [],
    pages: ["images/dap-an/1.jpg"]
  },
  {
    id: "le-vat-cua-ac-than",
    title: "L·ªÖ V·∫≠t C·ªßa √Åc Th·∫ßn",
    originalTitle:
      "Jashin no Ikenie Ani Omoi no Otouto Hen; Offering to the Evil God - Little Brother's Affection for Big Brother",
    author: "Usamimi Syndrome (Erutasuku)",
    cover: "images/le-vat-cua-ac-than-cover.jpg",
    adult: true,
    genre: "Hard yaoi",
    tags: ["Oneshot", "Hardcore", "Rape", "Mindbreak", "18+", "HET"],
    groupId: "py-danmei",
    updated: "2024-01-08",
    status: "ƒê√£ ho√†n th√†nh",
    summary: "Em trai nh·ªè mu·ªën c·ª©u anh trai nh∆∞ng...",
    relatedIds: ["hypnosis-mic-dj-dap-an"],
    pages: []
  },
  {
    id: "yowamushi-pedal-dj-am-thanh-vun-vo",
    title: "Yowamushi Pedal dj ‚Äì √Çm Thanh V·ª•n V·ª°",
    originalTitle: "Yowamushi Pedal dj ‚Äì √Çm Thanh V·ª•n V·ª°",
    author: "Hone Shaburi Tei (Nakaore poukubittsu)",
    cover: "images/am-thanh-vun-vo-cover.jpg",
    adult: true,
    genre: "Hard yaoi",
    tags: ["Doujinshi", "18+", "Oneshot", "Rape", "NP", "Somnophilia"],
    groupId: "py-danmei",
    updated: "2021-12-23",
    status: "ƒê√£ ho√†n th√†nh",
    summary:
      "Kh√¥ng n√™n m·∫•t c·∫£nh gi√°c, k·ªÉ c·∫£ trong l√∫c ng·ªß‚Ä¶ v√¨ b·∫°n kh√¥ng bi·∫øt ƒëi·ªÅu g√¨ s·∫Ω x·∫£y ƒë·∫øn v·ªõi m√¨nh ƒë√¢u...",
    relatedIds: [],
    pages: []
  },
  {
    id: "phuong-thuc-thoi-mien",
    title: "Ph∆∞∆°ng Th·ª©c Th√¥i Mi√™n",
    originalTitle: "ÂÇ¨Áú†ÂèñÂèñ; „Åï„ÅÑ„Åø„Çì„Åï„Åè„Åó„ÇÜ; Saimin Sakushu",
    author: "Sioyaki Ayu",
    cover: "images/phuong-thuc-thoi-mien-cover.jpg",
    adult: true,
    genre: "Hard yaoi",
    tags: ["18+", "Oneshot", "Rape", "Hypnosis", "Somnophilia"],
    groupId: "py-danmei",
    updated: "2021-12-23",
    status: "ƒê√£ ho√†n th√†nh",
    summary: "T∆∞·ªüng l√†‚Ä¶",
    relatedIds: [],
    pages: []
  },
  {
    id: "phong-vip",
    title: "Ph√≤ng VIP",
    originalTitle:
      "VIP Room (Otokonoko Heaven‚Äôs Door 1) / Ph√≤ng VIP (C√°nh C·ª≠a Thi√™n ƒê∆∞·ªùng C·ªßa ƒê√†n √îng 1)",
    author: "MTNO",
    cover: "images/phong-vip-cover.jpg",
    adult: true,
    genre: "Hard yaoi",
    tags: ["18+", "Oneshot", "Rape", "NP"],
    groupId: "py-danmei",
    updated: "2021-12-23",
    status: "ƒê√£ ho√†n th√†nh",
    summary: "CƒÉn ph√≤ng b√≠ m·∫≠t c·ªßa ƒë√†n √¥ng...",
    relatedIds: [],
    pages: []
  },
  {
    id: "bua-tiec-chao-mung",
    title: "B·ªØa Ti·ªác Ch√†o M·ª´ng",
    originalTitle: "Buta ga Itta Kyoushitsu",
    author: "Service Boy (Hontoku)",
    cover: "images/bua-tiec-chao-mung-cover.jpg",
    adult: true,
    genre: "Hard yaoi",
    tags: ["18+", "Oneshot", "Rape", "NP"],
    groupId: "py-danmei",
    updated: "2021-12-23",
    status: "ƒê√£ ho√†n th√†nh",
    summary: "B·ªØa ti·ªác ch√†o m·ª´ng h·ªçc sinh m·ªõi...",
    relatedIds: [],
    pages: []
  },
  {
    id: "cai-tao-playboy",
    title: "C·∫£i T·∫°o Playboy",
    originalTitle:
      "Otokonoko VS Yarichin ~Yarisute Shippai! Mesuinu Choukyou Taikyuusen!",
    author: "Yamamoto Manami",
    cover: "images/cai-tao-playboy-cover.jpg",
    adult: true,
    genre: "Hard yaoi",
    tags: ["18+", "Oneshot", "Rape", "Hardcore", "Mindbreak"],
    groupId: "py-danmei",
    updated: "2021-12-23",
    status: "ƒê√£ ho√†n th√†nh",
    summary:
      "C√¢u chuy·ªán v·ªÅ m·ªôt c·∫≠u Playboy v·ªõi s·ªü th√≠ch h·∫°i ƒë·ªùi g√°i nh√† l√†nh cu·ªëi c√πng c≈©ng t√¨m ƒë∆∞·ª£c ch√¢n l√Ω c·ªßa ƒë·ªùi m√¨nh‚Ä¶",
    relatedIds: [],
    pages: []
  },
  {
    id: "chuyen-buyt-muon",
    title: "Chuy·∫øn Bu√Ωt Mu·ªôn",
    originalTitle: "Yokujou Non-stop Bus",
    author: "Kume (Minakami Riku)",
    cover: "images/chuyen-buyt-muon-cover.jpg",
    adult: true,
    genre: "Hard yaoi",
    tags: ["18+", "Oneshot", "Rape"],
    groupId: "py-danmei",
    updated: "2021-12-23",
    status: "ƒê√£ ho√†n th√†nh",
    summary:
      "Ph·∫£i c·∫©n th·∫≠n khi ƒëi m·ªôt m√¨nh trong m·ªôt chuy·∫øn t√†u/bu√Ωt mu·ªôn‚Ä¶",
    relatedIds: [],
    pages: []
  },
  {
    id: "con-doi",
    title: "C∆°n ƒê√≥i",
    originalTitle: "Harapeko Saimin",
    author: "Akaeboshi (Binto)",
    cover: "images/con-doi-cover.jpg",
    adult: true,
    genre: "Hard yaoi",
    tags: ["18+", "Oneshot", "Rape", "Hypnosis"],
    groupId: "py-danmei",
    updated: "2021-12-23",
    status: "ƒê√£ ho√†n th√†nh",
    summary: "ƒê∆∞·ª£c c·∫≠u b·∫°n c√πng l·ªõp m·ªùi ƒë·∫øn nh√† ƒÉn pizza‚Ä¶",
    relatedIds: [],
    pages: []
  },
  {
    id: "dich-vu-9900-won",
    title: "‚ÄúD·ªãch V·ª•‚Äù 9900 Won",
    originalTitle: "All for 9900 Won",
    author: "Yayameme / Xiang",
    cover: "images/dich-vu-9900-won-cover.jpg",
    adult: true,
    genre: "Yaoi",
    tags: ["18+", "Manhwa", "Rape"],
    groupId: "py-danmei",
    updated: "2021-12-23",
    status: "ƒê√£ ho√†n th√†nh",
    summary:
      "Sau khi t√¨m ƒë∆∞·ª£c c√¥ng vi·ªác th√≠ch h·ª£p, Myeongwoo ƒë∆∞·ª£c ph√¢n l√†m nh√¢n vi√™n ti·∫øp th·ªã qu·∫£ng c√°o s·∫£n ph·∫©m c·ªßa c√¥ng ty. Nh∆∞ng trong l√∫c l√†m vi·ªác c·∫≠u kh√¥ng may b·ªã m·ªôt t√™n t·ª± cao t·ª± ƒë·∫°i t·ª´ m·ªôt c√¥ng ty c√≥ t·∫ßm ·∫£nh h∆∞·ªüng b·∫Øt g·∫∑p, h·∫Øn ta ƒë√£ th·∫≥ng th·ª´ng b√°c b·ªè s·∫£n ph·∫©m ƒë∆∞·ª£c cho l√† ‚Äúm√°y ·∫£nh ch·∫•t l∆∞·ª£ng cao c·ªßa Trung Qu·ªëc‚Äù c·ªßa c·∫≠u! Sau khi qu√° ch√©n, b·∫±ng m·ªôt c√°ch vi di·ªáu n√†o ƒë√≥ c·∫≠u l·∫°i t·ªânh d·∫≠y t·∫°i nh√† c√°i t√™n ki√™u ng·∫°o kia v√† ph√°t hi·ªán b√≠ m·∫≠t c·ªßa h·∫Øn... Li·ªáu chuy·ªán n√†y s·∫Ω d·∫´n t·ªõi ƒëi·ªÅu g√¨ ƒë√¢y‚Ä¶",
    relatedIds: [],
    pages: []
  },
  {
    id: "daiya-no-ace-dj-khe-uoc-halloween",
    title: "Daiya no Ace dj ‚Äì Kh·∫ø ∆Ø·ªõc Halloween",
    originalTitle:
      "Daiya no A / Ace of Diamond dj / Daiya no Ace dj ‚Äì Halloween Engage",
    author: "DigDug (Shippo)",
    cover: "images/khe-uoc-halloween-cover.jpg",
    adult: true,
    genre: "Yaoi",
    tags: ["Doujinshi", "18+", "Oneshot", "Hypnosis", "Fantasy", "Demon", "Hardcore"],
    groupId: "py-danmei",
    updated: "2021-12-23",
    status: "ƒê√£ ho√†n th√†nh",
    summary:
      "Kazuya Miyuki x Eijun Sawamura. D·ª• √°c qu·ª∑ v√†o tr√≤ng (hay b·ªã √°c qu·ª∑ l·ª´a?)‚Ä¶",
    relatedIds: [],
    pages: []
  },
  {
    id: "daiya-no-ace-dj-meo-con-cua-toi",
    title: "Daiya no Ace dj ‚Äì M√®o Con C·ªßa T√¥i",
    originalTitle: "Ace of Diamond / Daiya no Ace dj ‚Äì my own cat",
    author: "DigDug (Shippo)",
    cover: "images/meo-con-cua-toi-cover.jpg",
    adult: true,
    genre: "Hard yaoi",
    tags: ["Doujinshi", "18+", "Oneshot", "Rape", "Mindbreak", "Hardcore"],
    groupId: "py-danmei",
    updated: "2021-12-23",
    status: "ƒê√£ ho√†n th√†nh",
    summary: "Kazuya Miyuki x Eijun Sawamura. Em ch√≠nh l√† m√®o con c·ªßa anh‚Ä¶ <3",
    relatedIds: [],
    pages: []
  },
  {
    id: "lieu-phap-thoi-mien",
    title: "Li·ªáu Ph√°p Th√¥i Mi√™n",
    originalTitle: "Suyasuya Hypnotherapy",
    author: "DigDug (Shippo)",
    cover: "images/lieu-phap-thoi-mien-cover.jpg",
    adult: true,
    genre: "Hard yaoi",
    tags: ["Hypnosis", "18+", "Oneshot", "Rape", "Hardcore"],
    groupId: "py-danmei",
    updated: "2021-12-23",
    status: "ƒê√£ ho√†n th√†nh",
    summary: "C√¢u chuy·ªán v·ªÅ m·ªôt c·∫≠u b√© b·ªã m·∫•t ng·ªß‚Ä¶",
    relatedIds: [],
    pages: []
  },
  {
    id: "boku-dake-ga-inai-machi-dj-thoi-mien-than-ky",
    title: "Boku Dake ga Inai Machi dj ‚Äì Th√¥i Mi√™n Th·∫ßn K·ª≥",
    originalTitle:
      "Boku Dake ga Inai Machi dj ‚Äì Hypno Wonder Land",
    author: "Akaeboshi (Binto)",
    cover: "images/thoi-mien-than-ky-cover.jpg",
    adult: true,
    genre: "Hard yaoi",
    tags: ["Hypnosis", "18+", "Oneshot", "Doujinshi", "Mindbreak", "Rape"],
    groupId: "py-danmei",
    updated: "2021-12-23",
    status: "ƒê√£ ho√†n th√†nh",
    summary: "B·∫Øt c√≥c / c·∫ßm t√π play‚Ä¶ <3",
    relatedIds: [],
    pages: []
  },
  {
    id: "nguoi-ban-trai-dac-biet",
    title: "Ng∆∞·ªùi B·∫°n Trai ƒê·∫∑c Bi·ªát",
    originalTitle:
      "‰ªñÁöÑÁâπÂà´Áî∑Âèã / ÂΩº„ÅÆÁâπÂà•„Å™ÂΩº / His Special Boyfriend / Kare no Tokubetsu na Kare",
    author: "Narusaka Rin",
    cover: "images/nguoi-ban-trai-dac-biet-cover.jpg",
    adult: false,
    genre: "Yaoi",
    tags: ["Comedy", "Romance", "School life"],
    groupId: "py-danmei",
    updated: "2021-12-23",
    status: "ƒê√£ ho√†n th√†nh",
    summary:
      "M·∫∑c d√π r·∫•t ƒë·∫πp trai, t·∫•t c·∫£ nh·ªØng g√¨ Hiraoka Tatsuya mu·ªën l√† m·ªôt cu·ªôc s·ªëng b√¨nh th∆∞·ªùng v√† y√™n b√¨nh. Nh∆∞ng r·ªìi, cu·ªôc s·ªëng c·ªßa c·∫≠u l·∫°i b·ªã ƒë·∫£o l·ªôn b·ªüi h·ªçc sinh chuy·ªÉn tr∆∞·ªùng, Suruga Daichi, m·ªôt di·ªÖn vi√™n n·ªïi ti·∫øng. L√† Ch·ªß t·ªãch h·ªôi h·ªçc sinh, c·∫≠u ƒë∆∞·ª£c ph√¢n c√¥ng ‚ÄúchƒÉm s√≥c‚Äù anh ta. ƒêi·ªÅu g√¨ s·∫Ω x·∫£y ra ƒë√¢y‚Ä¶..?",
    relatedIds: [],
    pages: []
  },
  {
    id: "toi-da-bien-mat-khong-bao-gio-tro-ve",
    title: "T√¥i ƒê√£ Bi·∫øn M·∫•t, Kh√¥ng Bao Gi·ªù Tr·ªü V·ªÅ",
    originalTitle: "Kieta Boku wa Kaerenai / I Disappeared Never to Return",
    author: "Goya",
    cover: "images/toi-da-bien-mat-cover.jpg",
    adult: true,
    genre: "Hard yaoi",
    tags: ["Rape", "Hypnosis", "Mindbreak", "18+", "Oneshot", "Hardcore"],
    groupId: "py-danmei",
    updated: "2021-12-23",
    status: "ƒê√£ ho√†n th√†nh",
    summary: "C√¥ng ngh·ªá hi·ªán ƒë·∫°i c√≥ th·ªÉ l√†m r·∫•t nhi·ªÅu th·ª©‚Ä¶",
    relatedIds: [],
    pages: []
  },
  {
    id: "tinh-yeu-cam-ky",
    title: "T√¨nh Y√™u C·∫•m K·ªµ",
    originalTitle: "ÁßòÊÅã / Hikoi / Hiren / Immoral Love",
    author: "COSMIQ (Mio Junta) / ‰∏âÂ∞æ„Åò„ÇÖ„ÇìÂ§™",
    cover: "images/tinh-yeu-cam-ky-cover.jpg",
    adult: false,
    genre: "Yaoi",
    tags: ["Brother", "Drama"],
    groupId: "py-danmei",
    updated: "2021-12-23",
    status: "ƒê√£ ho√†n th√†nh",
    summary:
      "Khi Touya c√≥ gi·∫•c m·ªông xu√¢n ƒë·∫ßu ti√™n, Naoto quy·∫øt ƒë·ªãnh d·∫°y em trai m√¨nh c√°ch t·ª± s∆∞·ªõng v√† b·∫Øn. Kh√¥ng ng·ªù r·∫±ng, h√†nh ƒë·ªông kh√¥ng h·ªÅ trong s√°ng n√†y l·∫°i d·∫´n ƒë·∫øn m·ªôt ƒëi·ªÅu kh√°c‚Ä¶ Nh√¨n th·∫•y ng∆∞·ªùi anh c·ªßa m√¨nh ‚Äút·ª± s∆∞·ªõng‚Äù ƒë√£ khi·∫øn c·∫≠u b√© Touya n·∫£y sinh ham mu·ªën v·ªõi anh trai, bi·∫øt r·∫±ng ƒë√≥ l√† m·ªôt ƒëi·ªÅu c·∫•m k·ªµ, c·∫≠u ch·ªâ d√°m c·∫•t gi·ªØ n√≥ ·ªü trong tim. ƒê·∫øn m·ªôt ng√†y, c·∫≠u ph√°t hi·ªán ng∆∞·ªùi anh Naoto c·ªßa m√¨nh th·∫ø nh∆∞ng c≈©ng c√≥ m·ªôt b√≠ m·∫≠t ch√¥n gi·∫•u, ƒëi·ªÅu n√†y ƒë√£ ph∆°i b√†y t·∫•t c·∫£. B√¢y gi·ªù, c·∫£ hai ph·∫£i l√†m th·∫ø n√†o ƒë·ªÉ g√¨n gi·ªØ s·ª± b√¨nh y√™n c·ªßa gia ƒë√¨nh ƒë√¢y‚Ä¶?",
    relatedIds: [],
    pages: []
  },
  {
    id: "ten-khong-dau",
    title: "T√™n truy·ªán ti·∫øng Vi·ªát",
    originalTitle: "T√™n g·ªëc / Romaji / Eng",
    author: "T√™n t√°c gi·∫£",
    cover: "images/ten-khong-dau/cover.jpg",
    adult: true,
    genre: "Yaoi",
    tags: ["School life", "Romance", "Oneshot", "18+", "Omegaverse"],
    groupId: "py-danmei", // ho·∫∑c "Nh√≥m ·∫©n danh"
    updated: "2025-01-01",
    status: "ƒê√£ ho√†n th√†nh",
    summary: "V√†i d√≤ng gi·ªõi thi·ªáu v·ªÅ truy·ªán...",
    relatedIds: ["id-truyen-khac-neu-muon-gioi-thieu"],
    pages: [
      "images/ten-khong-dau/1.jpg",
      "images/ten-khong-dau/2.jpg"
    ]
  }
];



    // ========= PASSWORD GATE LOGIC =========
    const gateEl = document.getElementById("gate");
    const appEl = document.getElementById("app");
    const gateForm = document.getElementById("gateForm");
    const gatePasswordInput = document.getElementById("gatePassword");
    const gateError = document.getElementById("gateError");

    function unlockSite() {
      gateEl.style.display = "none";
      appEl.style.display = "flex";
      localStorage.setItem("thegioihu_unlocked", "1");
    }

    if (localStorage.getItem("thegioihu_unlocked") === "1") {
      unlockSite();
    }

    gateForm.addEventListener("submit", (e) => {
      e.preventDefault();
      const val = gatePasswordInput.value.trim();
      if (val === SITE_PASSWORD) {
        unlockSite();
      } else {
        gateError.textContent = "M·∫≠t kh·∫©u sai r·ªìi, th·ª≠ l·∫°i nha~";
      }
    });

    // ========= HELPERS =========
    function formatDate(dateStr) {
      const d = new Date(dateStr);
      if (isNaN(d)) return "";
      return d.toLocaleDateString("vi-VN");
    }

    function findGroupById(id) {
      return GROUPS.find(g => g.id === id) || null;
    }

    function findComicById(id) {
      return COMICS.find(c => c.id === id) || null;
    }

    // ========= RENDER GENRES & TAGS =========
    const genreChipsEl = document.getElementById("genreChips");
    const tagChipsEl = document.getElementById("tagChips");
    const sideTagChipsEl = document.getElementById("sideTagChips");

    let activeGenre = null;
    let activeTag = null;

function renderChips() {
  // Genre chips
  genreChipsEl.innerHTML = "";
  GENRES.forEach(g => {
    const info = GENRE_INFO[g] || {};
    const chip = document.createElement("button");
    chip.className = "chip" + (activeGenre === g ? " active" : "");
    chip.textContent = info.label || g;
    chip.title = info.desc || "";
    chip.onclick = () => {
      activeGenre = activeGenre === g ? null : g;
      renderChips();
      renderComics();
      const introEl = document.getElementById("genreIntro");
      if (introEl && activeGenre) {
        const count = filterComics().length;
        introEl.textContent =
          (GENRE_INFO[activeGenre]?.desc || "") +
          (count ? ` ‚Ä¢ C√≥ ${count} truy·ªán thu·ªôc th·ªÉ lo·∫°i n√†y.` : "");
      } else if (introEl) {
        introEl.textContent = "";
      }
    };
    genreChipsEl.appendChild(chip);
  });

  // Tag chips d∆∞·ªõi ph·∫ßn "T·∫•t c·∫£ truy·ªán"
  tagChipsEl.innerHTML = "";
  TAGS.forEach(t => {
    const info = TAG_INFO[t] || {};
    const chip = document.createElement("button");
    chip.className = "chip" + (activeTag === t ? " active" : "");
    chip.textContent = info.label || t;
    chip.title = info.desc || "";
    chip.onclick = () => {
      activeTag = activeTag === t ? null : t;
      renderChips();
      renderComics();
    };
    tagChipsEl.appendChild(chip);
  });

  // Tag ·ªü sidebar
  sideTagChipsEl.innerHTML = "";
  TAGS.forEach(t => {
    const info = TAG_INFO[t] || {};
    const chip = document.createElement("button");
    chip.className = "chip" + (activeTag === t ? " active" : "");
    chip.textContent = info.label || t;
    chip.title = info.desc || "";
    chip.onclick = () => {
      activeTag = activeTag === t ? null : t;
      renderChips();
      renderComics();
      document.getElementById("genres").scrollIntoView({ behavior: "smooth" });
    };
    sideTagChipsEl.appendChild(chip);
  });
}

    // ========= RENDER COMICS =========
    const comicListEl = document.getElementById("comicList");
    const featuredListEl = document.getElementById("featuredList");
    const sideFeaturedListEl = document.getElementById("sideFeaturedList");
    const storyDetailContainer = document.getElementById("storyDetailContainer");
    const searchInput = document.getElementById("searchInput");

    function filterComics() {
      const q = (searchInput.value || "").toLowerCase().trim();
      return COMICS.filter(c => {
        if (activeGenre && c.genre !== activeGenre) return false;
        if (activeTag && !c.tags.includes(activeTag)) return false;
        if (q) {
          const g = findGroupById(c.groupId);
          const inText =
            c.title.toLowerCase().includes(q) ||
            (c.originalTitle || "").toLowerCase().includes(q) ||
            c.summary.toLowerCase().includes(q) ||
            c.tags.some(t => t.toLowerCase().includes(q));
          const inGroup = g && g.name.toLowerCase().includes(q);
          const inPy = "py danmei".includes(q) && g && g.id === "py-danmei";
          if (!inText && !inGroup && !inPy) return false;
        }
        return true;
      });
    }

    function createComicCard(comic, isFeatured) {
      const group = findGroupById(comic.groupId);
      const card = document.createElement("article");
      card.className = "comic-card";
      card.onclick = () => openStoryDetail(comic.id);

      card.innerHTML = `
        <div class="comic-cover-wrap">
          <img src="${comic.cover}" alt="${comic.title}" class="comic-cover" />
          ${comic.adult ? '<div class="badge-18">18+ yaoi</div>' : ""}
          ${isFeatured ? '<div class="badge-featured">‚ú® N·ªïi b·∫≠t</div>' : ""}
        </div>
        <div class="comic-body">
          <h3 class="comic-title">${comic.title}</h3>
          <div class="comic-meta">
            ${comic.genre} ‚Ä¢ ${group ? group.name : "Nh√≥m ·∫©n danh"}<br>
            C·∫≠p nh·∫≠t: ${formatDate(comic.updated)} ‚Ä¢ ${comic.status}
          </div>
          <div class="mini-tags">
            ${comic.tags.slice(0, 3).map(t => `<span class="mini-tag">${t}</span>`).join("")}
          </div>
        </div>
      `;
      return card;
    }

    function renderComics() {
      const list = filterComics();
      comicListEl.innerHTML = "";
      list.forEach(c => {
        comicListEl.appendChild(createComicCard(c, false));
      });

      if (list.length === 0) {
        comicListEl.innerHTML = "<div style='font-size:12px;color:#7a5a6a;'>Kh√¥ng t√¨m th·∫•y truy·ªán ph√π h·ª£p v·ªõi b·ªô l·ªçc hi·ªán t·∫°i.</div>";
      }
    }

    function renderFeatured() {
      const featured = COMICS.slice(0, 3); // 3 truy·ªán ti√™u bi·ªÉu
      featuredListEl.innerHTML = "";
      featured.forEach(c => {
        featuredListEl.appendChild(createComicCard(c, true));
      });

      sideFeaturedListEl.innerHTML = "";
      featured.forEach(c => {
        const group = findGroupById(c.groupId);
        const item = document.createElement("div");
        item.className = "featured-mini-item";
        item.onclick = () => {
          openStoryDetail(c.id);
          document.getElementById("genres").scrollIntoView({ behavior: "smooth" });
        };
        item.innerHTML = `
          <div class="featured-thumb">
            <img src="${c.cover}" alt="${c.title}" />
          </div>
          <div>
            <div class="featured-info-title">${c.title}</div>
            <div class="featured-info-sub">${group ? group.name : ""} ‚Ä¢ ${c.genre}</div>
          </div>
        `;
        sideFeaturedListEl.appendChild(item);
      });
    }

    // ========= STORY DETAIL + READER + WATERMARK DOWNLOAD =========
    function openStoryDetail(comicId) {
      const comic = findComicById(comicId);
      if (!comic) return;
      const group = findGroupById(comic.groupId);

      const related = (comic.relatedIds || [])
        .map(id => findComicById(id))
        .filter(Boolean);

      storyDetailContainer.innerHTML = "";
      const panel = document.createElement("div");
      panel.className = "detail-panel";
      panel.innerHTML = `
        <div class="detail-header">
          <div class="detail-cover-wrap">
            <img src="${comic.cover}" alt="${comic.title}" class="detail-cover" />
            <div class="watermark-overlay"></div>
          </div>
          <div class="detail-main">
            <div class="detail-title-line">
              <div class="detail-title">${comic.title}</div>
              ${comic.adult ? '<span class="badge-18">18+</span>' : ""}
              ${group ? `<button class="detail-group-link" data-group="${group.id}">Nh√≥m d·ªãch: ${group.name}</button>` : ""}
            </div>
<div class="detail-meta-line">
  <span><b>Th·ªÉ lo·∫°i:</b> ${comic.genre}</span>
  <span>‚Ä¢</span>
  <span><b>T√¨nh tr·∫°ng:</b> ${comic.status}</span>
  <span>‚Ä¢</span>
  <span><b>C·∫≠p nh·∫≠t cu·ªëi:</b> ${formatDate(comic.updated)}</span>
</div>
            <div class="detail-desc"><b>T√≥m t·∫Øt:</b> ${comic.summary}</div>
            <div class="detail-actions">
              <button class="btn btn-read" data-comic="${comic.id}">ƒê·ªçc demo</button>
              <button class="btn btn-outline btn-download" data-comic="${comic.id}">T·∫£i 1 trang demo (c√≥ watermark)</button>
            </div>
            <div class="detail-tags">
              <div class="detail-tags-title">üîñ Nh√£n / c·∫£nh b√°o:</div>
              <div class="detail-tags-list">
                ${comic.tags.map(t => `<span class="detail-tag">${t}</span>`).join("")}
              </div>
            </div>
          </div>
        </div>

        <div class="detail-related">
          <div class="related-title">üìö Truy·ªán li√™n quan</div>
          <div class="related-list">
            ${
              related.length
                ? related.map(r => `<button class="related-item" data-comic="${r.id}">${r.title}</button>`).join("")
                : "<span style='font-size:11px;color:#7a5a6a;'>Ch∆∞a c√≥ g·ª£i √Ω, b·∫°n c√≥ th·ªÉ t·ª± th√™m li√™n k·∫øt truy·ªán sau.</span>"
            }
          </div>
        </div>
      `;
      storyDetailContainer.appendChild(panel);

      panel.querySelectorAll(".detail-group-link").forEach(btn => {
        btn.addEventListener("click", () => {
          const id = btn.getAttribute("data-group");
          openGroupModal(id);
        });
      });

      panel.querySelectorAll(".related-item").forEach(btn => {
        btn.addEventListener("click", () => {
          const id = btn.getAttribute("data-comic");
          openStoryDetail(id);
        });
      });

      panel.querySelectorAll(".btn-read").forEach(btn => {
        btn.addEventListener("click", () => {
          const id = btn.getAttribute("data-comic");
          openReader(id);
        });
      });

      panel.querySelectorAll(".btn-download").forEach(btn => {
        btn.addEventListener("click", async () => {
          const c = findComicById(btn.getAttribute("data-comic"));
          if (!c || !c.pages || !c.pages.length) {
            alert("Ch∆∞a c·∫•u h√¨nh trang demo cho truy·ªán n√†y.");
            return;
          }
          const pageUrl = c.pages[0];
          const label = `thegioihu.com ‚Ä¢ ${group ? group.name : "nh√≥m d·ªãch"}`;
          try {
            await downloadWithWatermark(pageUrl, `${c.title} - demo`, label);
          } catch (err) {
            console.error(err);
            alert("Tr√¨nh duy·ªát ch·∫∑n ho·∫∑c l·ªói khi t·∫°o watermark. H√£y ƒë·∫£m b·∫£o ·∫£nh n·∫±m c√πng domain v·ªõi trang.");
          }
        });
      });
    }

    async function downloadWithWatermark(imgUrl, baseName, watermarkText) {
      const img = new Image();
      img.crossOrigin = "anonymous";
      img.src = imgUrl;
      await new Promise((resolve, reject) => {
        img.onload = () => resolve();
        img.onerror = (e) => reject(e);
      });

      const canvas = document.createElement("canvas");
      const ctx = canvas.getContext("2d");
      canvas.width = img.width;
      canvas.height = img.height;

      ctx.drawImage(img, 0, 0);

      const fontSize = Math.floor(canvas.width / 18);
      ctx.font = `${fontSize}px system-ui`;
      ctx.fillStyle = "rgba(255, 255, 255, 0.65)";
      ctx.textAlign = "center";
      ctx.textBaseline = "middle";

      ctx.save();
      ctx.translate(canvas.width / 2, canvas.height / 2);
      ctx.rotate(-Math.PI / 5);
      ctx.shadowColor = "rgba(0,0,0,0.6)";
      ctx.shadowBlur = 4;
      ctx.fillText(watermarkText, 0, 0);
      ctx.restore();

      const link = document.createElement("a");
      link.download = `${baseName || "page"}-watermarked.jpg`;
      link.href = canvas.toDataURL("image/jpeg", 0.9);
      link.click();
    }

// ========= SIMPLE READER (CU·ªòN D·ªåC) =========
const readerBackdrop = document.getElementById("readerBackdrop");
const readerTitle = document.getElementById("readerTitle");
const readerPages = document.getElementById("readerPages");
const readerPageInfo = document.getElementById("readerPageInfo");
const readerClose = document.getElementById("readerClose");

let currentReaderComic = null;

function openReader(comicId) {
  const comic = findComicById(comicId);
  if (!comic || !comic.pages || !comic.pages.length) {
    alert("Truy·ªán n√†y ch∆∞a c√≥ trang demo ƒë·ªÉ ƒë·ªçc.");
    return;
  }

  currentReaderComic = comic;
  readerTitle.textContent = comic.title;

  // Render t·∫•t c·∫£ trang th√†nh m·ªôt list cu·ªôn d·ªçc
  readerPages.innerHTML = comic.pages
    .map(
      (src, idx) => `
      <div class="reader-img-wrap">
        <img 
          class="reader-img" 
          src="${src}" 
          alt="Trang ${idx + 1} - ${comic.title}" 
          loading="lazy"
        />
      </div>
    `
    )
    .join("");

  readerPageInfo.textContent = `T·ªïng s·ªë trang demo: ${comic.pages.length} ‚Ä¢ Cu·ªôn ƒë·ªÉ xem ti·∫øp`;
  readerBackdrop.style.display = "flex";
  document.body.style.overflow = "hidden";

  // Lu√¥n cu·ªôn l√™n ƒë·∫ßu m·ªói l·∫ßn m·ªü
  const main = readerBackdrop.querySelector(".reader-main");
  if (main) main.scrollTop = 0;
}

function closeReader() {
  readerBackdrop.style.display = "none";
  document.body.style.overflow = "";
}

readerClose.addEventListener("click", closeReader);
readerBackdrop.addEventListener("click", (e) => {
  if (e.target === readerBackdrop) closeReader();
});

// Cho ph√©p b·∫•m ESC ƒë·ªÉ tho√°t
document.addEventListener("keydown", (e) => {
  if (e.key === "Escape" && readerBackdrop.style.display === "flex") {
    closeReader();
  }
});
    // ========= GROUPS =========
    const groupListEl = document.getElementById("groupList");
    const groupModalBackdrop = document.getElementById("groupModalBackdrop");
    const groupModalName = document.getElementById("groupModalName");
    const groupModalSince = document.getElementById("groupModalSince");
    const groupModalMotto = document.getElementById("groupModalMotto");
    const groupModalAbout = document.getElementById("groupModalAbout");
    const groupModalMembers = document.getElementById("groupModalMembers");
    const groupModalLinks = document.getElementById("groupModalLinks");
    const groupModalClose = document.getElementById("groupModalClose");

    function renderGroups() {
      groupListEl.innerHTML = "";
      GROUPS.forEach(g => {
        const card = document.createElement("article");
        card.className = "group-card";
        card.onclick = () => openGroupModal(g.id);
        card.innerHTML = `
          <div class="group-name">${g.name}</div>
          <div class="group-meta">${g.founded}</div>
          <div class="group-meta">${g.motto}</div>
        `;
        groupListEl.appendChild(card);
      });
    }

    function openGroupModal(id) {
      const g = findGroupById(id);
      if (!g) return;
      groupModalName.textContent = g.name;
      groupModalSince.textContent = g.founded;
      groupModalMotto.textContent = g.motto;
      groupModalAbout.textContent = g.about;
      groupModalMembers.innerHTML = "";
      (g.members || []).forEach(m => {
        const li = document.createElement("li");
        li.textContent = m;
        groupModalMembers.appendChild(li);
      });
      groupModalLinks.innerHTML = (g.links || []).map(l => `<a href="${l.url}" target="_blank" rel="noopener">${l.label}</a>`).join(" ‚Ä¢ ");
      groupModalBackdrop.style.display = "flex";
    }

    groupModalClose.addEventListener("click", () => {
      groupModalBackdrop.style.display = "none";
    });
    groupModalBackdrop.addEventListener("click", (e) => {
      if (e.target === groupModalBackdrop) {
        groupModalBackdrop.style.display = "none";
      }
    });

    // ========= NAV SCROLL =========
    document.querySelectorAll(".nav-link").forEach(btn => {
      btn.addEventListener("click", () => {
        document.querySelectorAll(".nav-link").forEach(b => b.classList.remove("active"));
        btn.classList.add("active");
        const targetId = btn.dataset.scroll;
        if (targetId === "top") {
          window.scrollTo({ top: 0, behavior: "smooth" });
        } else {
          const el = document.getElementById(targetId);
          if (el) el.scrollIntoView({ behavior: "smooth" });
        }
      });
    });

    // ========= SEARCH =========
    searchInput.addEventListener("input", () => {
      renderComics();
    });

    // ========= INIT =========
    renderChips();
    renderComics();
    renderFeatured();
    renderGroups();
    document.getElementById("year").textContent = new Date().getFullYear();

    // Ch·∫∑n chu·ªôt ph·∫£i tr√™n ·∫£nh
    document.addEventListener("contextmenu", (e) => {
      if (e.target.tagName === "IMG") {
        e.preventDefault();
      }
    });
  </script>
</body>

<//index.html
/images/>
